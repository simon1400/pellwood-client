{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport sanityClient from \"../../lib/sanity.js\";\nimport translate from '../../data/staticTranslate';\nimport Link from 'next/link';\nvar imageBuilder = imageUrlBuilder(sanityClient);\n\nvar urlFor = function urlFor(source) {\n  return imageBuilder.image(source);\n};\n\nvar Cart = function Cart(_ref) {\n  var item = _ref.item,\n      lang = _ref.lang,\n      currency = _ref.currency,\n      block = _ref.block;\n\n  var _useState = useState(false),\n      pricesGroup = _useState[0],\n      setPricesGroup = _useState[1];\n\n  var _useState2 = useState(0),\n      price = _useState2[0],\n      setPrice = _useState2[1];\n\n  useEffect(function () {\n    var _item$variants, _item$variants2, _item$variants3;\n\n    if ((item === null || item === void 0 ? void 0 : (_item$variants = item.variants) === null || _item$variants === void 0 ? void 0 : _item$variants.length) > 1) {\n      setPricesGroup(true);\n      var allPrices = [];\n      item.variants.map(function (item) {\n        allPrices.push(+item.price);\n      });\n      var minPrice = Math.min.apply(Math, allPrices);\n\n      if (lang === 'en') {\n        setPrice((Math.round(minPrice * 100) / 100).toFixed(2));\n      } else {\n        setPrice(minPrice);\n      }\n    } else if ((item === null || item === void 0 ? void 0 : (_item$variants2 = item.variants) === null || _item$variants2 === void 0 ? void 0 : _item$variants2.length) === 1) {\n      if (lang === 'en') {\n        setPrice((Math.round(item.variants[0].price * 100) / 100).toFixed(2));\n      } else {\n        setPrice(item.variants[0].price);\n      }\n    } else if (!(item === null || item === void 0 ? void 0 : (_item$variants3 = item.variants) === null || _item$variants3 === void 0 ? void 0 : _item$variants3.length)) {\n      if (lang === 'en') {\n        setPrice((Math.round(+item.price * 100) / 100).toFixed(2));\n      } else {\n        setPrice(item.price);\n      }\n    } else {\n      setPrice('');\n    }\n  }, []);\n\n  if (block) {\n    var _item$variants4;\n\n    return __jsx(\"div\", null, __jsx(Link, {\n      href: \"/produkt/\".concat(item.slug.current)\n    }, __jsx(\"a\", {\n      className: \"card_short\",\n      style: {\n        opacity: 1\n      }\n    }, __jsx(\"h3\", {\n      className: \"card_short_head\"\n    }, item.title), __jsx(\"div\", {\n      className: \"cart_img\"\n    }, __jsx(\"img\", {\n      src: urlFor(item.image).width().url(),\n      alt: item.title\n    })), !!price && __jsx(\"span\", {\n      className: \"short_price\"\n    }, pricesGroup && \"\".concat(translate.from[lang], \" \").concat(price, \" \").concat(currency), (!pricesGroup || !(item === null || item === void 0 ? void 0 : (_item$variants4 = item.variants) === null || _item$variants4 === void 0 ? void 0 : _item$variants4.length)) && \"\".concat(price, \" \").concat(currency)))));\n  } else {\n    var _item$category, _item$variants5;\n\n    return __jsx(\"li\", {\n      \"data-category\": (_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category._ref\n    }, __jsx(\"a\", {\n      href: \"\".concat(lang !== 'cz' ? '/' + lang : '', \"/produkt/\").concat(item.slug.current),\n      className: \"card_short\"\n    }, __jsx(\"h3\", {\n      className: \"card_short_head\"\n    }, item.title), __jsx(\"div\", {\n      className: \"cart_img\"\n    }, __jsx(\"img\", {\n      src: urlFor(item.image).url(),\n      alt: item.title\n    })), !!price && __jsx(\"span\", {\n      className: \"short_price\"\n    }, pricesGroup && \"\".concat(translate.from[lang], \" \").concat(price, \" \").concat(currency), (!pricesGroup || !(item === null || item === void 0 ? void 0 : (_item$variants5 = item.variants) === null || _item$variants5 === void 0 ? void 0 : _item$variants5.length)) && \"\".concat(price, \" \").concat(currency))));\n  }\n};\n\nexport default Cart;","map":null,"metadata":{},"sourceType":"module"}