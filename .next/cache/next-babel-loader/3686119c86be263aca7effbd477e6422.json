{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/components/Body/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from 'react';\nimport { DataStateContext } from '../../context/dataStateContext';\nimport Body from './Body';\n\nconst BodyWrap = ({\n  setSum,\n  basket,\n  setBasket\n}) => {\n  const {\n    dataContextState,\n    dataContextDispatch\n  } = useContext(DataStateContext);\n\n  const changeCount = (index, handle) => {\n    var newBasket = basket;\n\n    if (handle === 'down' && newBasket[index].countVariant > 1) {\n      newBasket[index].countVariant = +basket[index].countVariant - 1;\n    } else if (handle === 'up') {\n      newBasket[index].countVariant = +basket[index].countVariant + 1;\n    }\n\n    setBasket([...newBasket]);\n    dataContextDispatch({\n      state: newBasket,\n      type: 'basket'\n    });\n    sumBasket(newBasket);\n  };\n\n  const sumBasket = newBasket => {\n    var sumAll = 0,\n        sumItem = 0;\n    newBasket.map((item, index) => {\n      if (item.variantPrice instanceof String) {\n        sumItem = +item.variantPrice.split(' ')[0] * item.countVariant;\n      } else {\n        sumItem = item.variantPrice * item.countVariant;\n      }\n\n      sumAll = +sumItem + sumAll;\n    });\n    setSum(sumAll);\n  };\n\n  const handleChange = (index, value) => {\n    let newBasket = basket;\n    newBasket[index].countVariant = value;\n    setBasket([...newBasket]);\n    dataContextDispatch({\n      state: newBasket,\n      type: 'basket'\n    });\n  };\n\n  const deleteItem = (e, index) => {\n    var basketCount = dataContextState.basketCount;\n    basketCount = basketCount - 1;\n    dataContextDispatch({\n      state: basketCount,\n      type: 'basketCount'\n    });\n    let newBasket = basket;\n    newBasket.splice(index, 1);\n    setBasket([...newBasket]);\n    dataContextDispatch({\n      state: newBasket,\n      type: 'basket'\n    });\n    sumBasket(newBasket);\n  };\n\n  return __jsx(Body, {\n    basket: basket,\n    deleteItem: deleteItem,\n    handleChange: handleChange,\n    sumBasket: sumBasket,\n    changeCount: changeCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default BodyWrap;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/components/Body/index.js"],"names":["useContext","DataStateContext","Body","BodyWrap","setSum","basket","setBasket","dataContextState","dataContextDispatch","changeCount","index","handle","newBasket","countVariant","state","type","sumBasket","sumAll","sumItem","map","item","variantPrice","String","split","handleChange","value","deleteItem","e","basketCount","splice"],"mappings":"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","sourcesContent":["import {useContext} from 'react'\nimport { DataStateContext } from '../../context/dataStateContext'\nimport Body from './Body'\n\nconst BodyWrap = ({\n  setSum,\n  basket,\n  setBasket\n}) => {\n  const { dataContextState, dataContextDispatch } = useContext(DataStateContext)\n\n  const changeCount = (index, handle) => {\n    var newBasket = basket\n    if(handle === 'down' && newBasket[index].countVariant > 1){\n      newBasket[index].countVariant = +basket[index].countVariant - 1\n    }else if(handle === 'up'){\n      newBasket[index].countVariant = +basket[index].countVariant + 1\n    }\n    setBasket([...newBasket])\n    dataContextDispatch({ state: newBasket, type: 'basket' })\n\n    sumBasket(newBasket)\n  }\n\n  const sumBasket = (newBasket) => {\n    var sumAll = 0, sumItem = 0;\n    newBasket.map((item, index) => {\n      if(item.variantPrice instanceof String){\n        sumItem = +item.variantPrice.split(' ')[0] * item.countVariant\n      }else{\n        sumItem = item.variantPrice * item.countVariant\n      }\n      sumAll = +sumItem + sumAll\n    })\n\n    setSum(sumAll)\n  }\n\n  const handleChange = (index, value) => {\n    let newBasket = basket\n    newBasket[index].countVariant = value\n    setBasket([...newBasket])\n    dataContextDispatch({ state: newBasket, type: 'basket' })\n  }\n\n  const deleteItem = (e, index) => {\n    var basketCount = dataContextState.basketCount\n    basketCount = basketCount - 1\n    dataContextDispatch({ state: basketCount, type: 'basketCount' })\n    let newBasket = basket\n    newBasket.splice(index, 1)\n    setBasket([...newBasket])\n    dataContextDispatch({ state: newBasket, type: 'basket' })\n    sumBasket(newBasket)\n  }\n\n\n\n  return <Body\n    basket={basket}\n    deleteItem={deleteItem}\n    handleChange={handleChange}\n    sumBasket={sumBasket}\n    changeCount={changeCount}\n  />\n}\n\nexport default BodyWrap\n"]},"metadata":{},"sourceType":"module"}