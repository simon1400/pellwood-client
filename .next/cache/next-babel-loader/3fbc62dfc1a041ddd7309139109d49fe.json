{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate';\nimport { DataStateContext } from '../context/dataStateContext';\nimport localize from '../data/localize';\nimport Canvas from './Canvas';\nimport { useRouter } from 'next/router';\n\nconst Header = ({\n  history\n}) => {\n  var _dataContextState$use, _dataContextState$use2;\n\n  const router = useRouter();\n  const {\n    lang,\n    currency\n  } = localize(window.location.href);\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const {\n    dataContextState\n  } = useContext(DataStateContext);\n  const {\n    0: menu,\n    1: setMenu\n  } = useState([]);\n  const {\n    0: basketCount,\n    1: setBasketCount\n  } = useState(0);\n  const {\n    0: hamburger,\n    1: setHamburger\n  } = useState(false);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, []);\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount);\n  }, [dataContextState.basketCount]);\n\n  const handleHamburger = () => {\n    if (hamburger) {\n      document.body.style.overflow = 'scroll';\n    } else {\n      document.body.style.overflow = 'hidden';\n    }\n\n    setHamburger(!hamburger);\n  };\n\n  const changeLanguage = (e, url) => {\n    e.preventDefault();\n    localStorage.clear();\n    window.location.href = url;\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Canvas, {\n    currency: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), __jsx(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    href: `/${lang === 'cz' ? '' : lang}`,\n    className: \"logo-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/assets/logo.svg\",\n    width: \"200\",\n    height: \"100%\",\n    alt: \"Pellwood\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"uk-text-right uk-width-expand uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: `hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`,\n    onClick: () => handleHamburger(),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: `top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: history.location.pathname.indexOf('/produkty') >= 0 ? 'active-menu-top' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    href: `${lang === 'cz' ? '' : '/' + lang}/produkty`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 112\n    }\n  }, translate.products[lang])), (menu || []).map((item, index) => {\n    var _item$slug, _item$slug2;\n\n    return __jsx(\"li\", {\n      key: index,\n      className: history.location.pathname.indexOf(item === null || item === void 0 ? void 0 : (_item$slug = item.slug) === null || _item$slug === void 0 ? void 0 : _item$slug.current) >= 0 ? 'active-menu-top' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 54\n      }\n    }, __jsx(\"a\", {\n      href: `${lang === 'cz' ? '' : '/' + lang}/${item === null || item === void 0 ? void 0 : (_item$slug2 = item.slug) === null || _item$slug2 === void 0 ? void 0 : _item$slug2.current}/kategorie`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 167\n      }\n    }, item.title));\n  }))), __jsx(\"div\", {\n    className: \"lang-nav uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 79\n    }\n  }, \"cs\")), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/en\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 79\n    }\n  }, \"en\"))))), __jsx(\"div\", {\n    className: \"user-area uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use = dataContextState.user) === null || _dataContextState$use === void 0 ? void 0 : _dataContextState$use.email) ? __jsx(Link, {\n    to: `${lang !== 'cz' ? '/' + lang : ''}/user`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 51\n    }\n  }, translate.account[lang]) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 139\n    }\n  }, \"P\\u0159ihla\\u0161en\\xED\")))), __jsx(\"div\", {\n    className: \"uk-flex function-button-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"lang-nav uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    onClick: e => changeLanguage(e, '/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 79\n    }\n  }, \"cs\")), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/en\",\n    onClick: e => changeLanguage(e, '/en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 79\n    }\n  }, \"en\"))))), __jsx(\"div\", {\n    className: \"user-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use2 = dataContextState.user) === null || _dataContextState$use2 === void 0 ? void 0 : _dataContextState$use2.email) ? __jsx(Link, {\n    to: `${lang !== 'cz' ? '/' + lang : ''}/user`,\n    className: \"uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 51\n    }\n  }, translate.account[lang]) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    className: \"uk-visible@m\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 164\n    }\n  }, translate.login[lang]), __jsx(\"a\", {\n    nohref: \"\",\n    href: \"/\",\n    className: \"basket_count\",\n    \"uk-toggle\": \"target: #offcanvas-flip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, basketCount))))))));\n};\n\nexport default withRouter(Header);","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js"],"names":["useState","useEffect","useContext","Link","withRouter","sanityClient","translate","DataStateContext","localize","Canvas","useRouter","Header","history","router","lang","currency","window","location","href","query","dataContextState","menu","setMenu","basketCount","setBasketCount","hamburger","setHamburger","fetch","then","data","handleHamburger","document","body","style","overflow","changeLanguage","e","url","preventDefault","localStorage","clear","pathname","indexOf","products","map","item","index","slug","current","title","undefined","user","email","account","login"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate'\nimport { DataStateContext } from '../context/dataStateContext'\nimport localize from '../data/localize'\nimport Canvas from './Canvas'\nimport { useRouter } from 'next/router'\n\nconst Header = ({history}) => {\n\n  const router = useRouter()\n  const {lang, currency} = localize(window.location.href)\n\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n\n  const { dataContextState } = useContext(DataStateContext)\n  const [menu, setMenu] = useState([])\n  const [basketCount, setBasketCount] = useState(0)\n  const [hamburger, setHamburger] = useState(false)\n\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data))\n  }, [])\n\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount)\n  }, [dataContextState.basketCount])\n\n  const handleHamburger = () => {\n    if(hamburger){\n      document.body.style.overflow = 'scroll'\n    }else{\n      document.body.style.overflow = 'hidden'\n    }\n\n    setHamburger(!hamburger)\n  }\n\n  const changeLanguage = (e, url) => {\n    e.preventDefault()\n    localStorage.clear()\n    window.location.href = url\n  }\n\n  return(\n    <>\n      <Canvas currency={currency}/>\n      <header>\n        <div className=\"uk-container uk-container-expand uk-height-1-1\">\n          <div className=\"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\">\n            <a href={`/${lang === 'cz' ? '' : lang}`} className=\"logo-wrap uk-width-auto\">\n              <img src=\"/assets/logo.svg\" width=\"200\" height=\"100%\" alt=\"Pellwood\" />\n            </a>\n            <div className=\"uk-text-right uk-width-expand uk-hidden@m\">\n              <button className={`hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`} onClick={() => handleHamburger()} type=\"button\">\n                <span className=\"hamburger-box\">\n                  <span className=\"hamburger-inner\"></span>\n                </span>\n              </button>\n            </div>\n            <div className={`top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`}>\n              <nav>\n                <ul>\n                  <li className={history.location.pathname.indexOf('/produkty') >= 0 ? 'active-menu-top' : ''}><a href={`${lang === 'cz' ? '' : '/' + lang}/produkty`}>{translate.products[lang]}</a></li>\n                  {(menu || []).map((item, index) => <li key={index} className={history.location.pathname.indexOf(item?.slug?.current) >= 0 ? 'active-menu-top' : ''}><a href={`${lang === 'cz' ? '' : '/' + lang}/${item?.slug?.current}/kategorie`}>{item.title}</a></li>)}\n                </ul>\n              </nav>\n              <div className=\"lang-nav uk-hidden@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined}><a href=\"/\">cs</a></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined}><a href=\"/en\">en</a></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area uk-hidden@m\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link to={`${lang !== 'cz' ? '/' + lang : ''}/user`}>{translate.account[lang]}</Link> : <a href=\"#modal-login\" uk-toggle=\"\">Přihlašení</a>}\n                </div>\n              </div>\n            </div>\n            <div className=\"uk-flex function-button-wrap uk-width-auto\">\n              <div className=\"lang-nav uk-visible@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined}><a href=\"/\" onClick={e => changeLanguage(e, '/')}>cs</a></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined}><a href=\"/en\" onClick={e => changeLanguage(e, '/en')}>en</a></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link to={`${lang !== 'cz' ? '/' + lang : ''}/user`} className=\"uk-visible@m\">{translate.account[lang]}</Link> : <a href=\"#modal-login\" className=\"uk-visible@m\" uk-toggle=\"\">{translate.login[lang]}</a>}\n                  <a nohref=\"\" href=\"/\" className=\"basket_count\" uk-toggle=\"target: #offcanvas-flip\">{basketCount}</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n    </>\n  )\n}\n\n\nexport default withRouter(Header)\n"]},"metadata":{},"sourceType":"module"}