{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Page from '../../layout/Page';\nimport { DataStateContext } from '../../context/dataStateContext';\nimport translate from '../../data/staticTranslate';\nimport { useRouter } from 'next/router';\nimport Head from '../../components/Head';\nimport Body from '../../components/Body';\nimport Total from '../../components/Total';\nimport ButtonsSubmit from '../../components/ButtonsSubmit';\nimport sumTotal from '../../functions/sumTotal';\nimport localize from '../../data/localize';\n\nconst Basket = () => {\n  const router = useRouter();\n  const {\n    lang\n  } = localize(router.locale);\n  const {\n    dataContextState,\n    dataContextDispatch\n  } = useContext(DataStateContext);\n  const {\n    0: sum,\n    1: setSum\n  } = useState(0);\n  const {\n    0: sumBefore,\n    1: setSumBefore\n  } = useState(0);\n  const {\n    0: sale,\n    1: setSale\n  } = useState(0);\n  const {\n    0: basket,\n    1: setBasket\n  } = useState(dataContextState.basket);\n  useEffect(() => {\n    if (!(basket === null || basket === void 0 ? void 0 : basket.length)) {\n      window.location.href = '/';\n    }\n  }, [basket]);\n  useEffect(() => {\n    sumTotal(0, 0, basket, setSumBefore, setSale, setSum, lang);\n  }, []);\n  useEffect(() => {\n    sumTotal(0, 0, basket, setSumBefore, setSale, setSum, lang);\n  }, [sum]);\n  return __jsx(Page, {\n    className: \"basket\"\n  }, __jsx(\"div\", {\n    className: \"tm-basket-content-wrap\"\n  }, __jsx(\"div\", {\n    className: \"tm-basket-content\"\n  }, __jsx(Head, null), __jsx(Body, {\n    setSum: setSum,\n    sum: sum,\n    basket: basket,\n    setBasket: setBasket\n  }))), __jsx(\"div\", {\n    className: \"basket-right-panel\"\n  }, __jsx(\"div\", {\n    className: \"basket-right-content\"\n  }, __jsx(Total, {\n    sum: sumBefore,\n    sale: sale\n  }), __jsx(\"div\", null, __jsx(\"p\", null, translate.infovat[lang])), __jsx(\"div\", {\n    className: \"tm-basket-footer tm-footer-single total-end-footer\"\n  }, __jsx(ButtonsSubmit, null)))));\n};\n\nexport default Basket;","map":null,"metadata":{},"sourceType":"module"}