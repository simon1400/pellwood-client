{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/pages/thank-you/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport { DataStateContext } from '../../context/dataStateContext';\nimport translate from '../../data/staticTranslate';\nimport gtag from '../../functions/gtag';\nimport { AxiosAPI } from '../../restClient';\nimport { useRouter } from 'next/router';\nimport localize from '../../data/localize';\nexport async function getServerSideProps({\n  query,\n  locale\n}) {\n  const {\n    lang\n  } = localize(locale); // if(!query.refId){ router.push('/not-found'); return;}\n\n  dataContextDispatch({\n    state: [],\n    type: 'basket'\n  });\n  dataContextDispatch({\n    state: 0,\n    type: 'basketCount'\n  });\n  const res = await AxiosAPI.get(`/payment/status/${query.refId}`);\n  const order = res.data.data[0]; // AxiosAPI.post(`/send/orderInfo`, res.data.data[0])\n  // .then(resMail => console.log(resMail.data))\n  // .catch(err => console.log('Send Email error --- ', err))\n\n  var status = '';\n  console.log(order);\n\n  if (order.payOnline) {\n    status = order.status;\n\n    if (status !== 'PENDING' && status !== 'CANCELLED') {\n      gtag(order);\n    }\n  } else {\n    status = 'dobirka';\n    gtag(order);\n  }\n\n  return {\n    props: {\n      lang,\n      order,\n      status\n    }\n  };\n}\n\nconst ThankYou = ({\n  lang,\n  order,\n  status\n}) => {\n  console.log(status);\n  const {\n    dataContextDispatch\n  } = useContext(DataStateContext);\n  return __jsx(\"div\", {\n    className: \"thank-you-page base-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, translate.thankOrder[lang]), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, translate.thankInfo[lang]), !!status.length && status === 'PENDING' && __jsx(\"div\", {\n    className: \"uk-text-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 51\n    }\n  }, translate.PayStatusWait[lang]), !!status.length && status === 'CANCELLED' && __jsx(\"div\", {\n    className: \"uk-text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 53\n    }\n  }, translate.PayStatusError[lang]), !!status.length && status === 'PAID' && __jsx(\"div\", {\n    className: \"uk-text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 48\n    }\n  }, translate.PayStatusOk[lang]), !!status.length && status === 'dobirka' && __jsx(\"div\", {\n    className: \"uk-text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 51\n    }\n  }, translate.PayStatusCash[lang]), __jsx(\"a\", {\n    href: \"/\",\n    className: \"tm-button tm-black-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, translate.backtohp[lang]));\n};\n\nexport default ThankYou;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/pages/thank-you/index.js"],"names":["useState","useEffect","useContext","DataStateContext","translate","gtag","AxiosAPI","useRouter","localize","getServerSideProps","query","locale","lang","dataContextDispatch","state","type","res","get","refId","order","data","status","console","log","payOnline","props","ThankYou","thankOrder","thankInfo","length","PayStatusWait","PayStatusError","PayStatusOk","PayStatusCash","backtohp"],"mappings":"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","sourcesContent":["import {useState, useEffect, useContext} from 'react'\nimport { DataStateContext } from '../../context/dataStateContext'\nimport translate from '../../data/staticTranslate'\nimport gtag from '../../functions/gtag'\nimport {AxiosAPI} from '../../restClient'\nimport { useRouter } from 'next/router'\nimport localize from '../../data/localize'\n\nexport async function getServerSideProps({query, locale}) {\n\n  const {lang} = localize(locale)\n  // if(!query.refId){ router.push('/not-found'); return;}\n  dataContextDispatch({ state: [], type: 'basket' })\n  dataContextDispatch({ state: 0, type: 'basketCount' })\n\n  const res = await AxiosAPI.get(`/payment/status/${query.refId}`)\n\n  const order = res.data.data[0]\n\n  // AxiosAPI.post(`/send/orderInfo`, res.data.data[0])\n  // .then(resMail => console.log(resMail.data))\n  // .catch(err => console.log('Send Email error --- ', err))\n\n  var status = ''\n  console.log(order);\n  if(order.payOnline) {\n    status = order.status\n    if(status !== 'PENDING' && status !== 'CANCELLED'){\n      gtag(order)\n    }\n  }else{\n    status = 'dobirka'\n    gtag(order)\n  }\n\n  return {\n    props: {\n      lang,\n      order,\n      status\n    }\n  }\n}\n\nconst ThankYou = ({lang, order, status}) => {\n\n  console.log(status);\n\n  const { dataContextDispatch } = useContext(DataStateContext)\n\n  return(\n    <div className=\"thank-you-page base-page\">\n      <h1>{translate.thankOrder[lang]}</h1>\n      <p>{translate.thankInfo[lang]}</p>\n      {!!status.length && status === 'PENDING' && <div className=\"uk-text-warning\">{translate.PayStatusWait[lang]}</div>}\n      {!!status.length && status === 'CANCELLED' && <div className=\"uk-text-danger\">{translate.PayStatusError[lang]}</div>}\n      {!!status.length && status === 'PAID' && <div className=\"uk-text-success\">{translate.PayStatusOk[lang]}</div>}\n      {!!status.length && status === 'dobirka' && <div className=\"uk-text-success\">{translate.PayStatusCash[lang]}</div>}\n\n      <a href=\"/\" className=\"tm-button tm-black-button\">{translate.backtohp[lang]}</a>\n    </div>\n  )\n}\n\nexport default ThankYou\n"]},"metadata":{},"sourceType":"module"}