{"ast":null,"code":"const sumTotal = (delivery, payment, basket, setSumBefore, setSale, setSum, lang) => {\n  var sumAll = 0,\n      sumItem = 0;\n  var newBasket = basket;\n  newBasket.map((item, index) => {\n    if (item.variantPrice instanceof String) sumItem = +item.variantPrice * item.countVariant;else sumItem = item.variantPrice * item.countVariant;\n    sumAll = +sumItem + sumAll;\n  });\n  let sumItemsBefore = sumAll;\n  setSumBefore(sumItemsBefore);\n  if (lang === 'en' && sumAll > 150) setSale((Math.round(sumAll * 0.05 * 100) / 100).toFixed(2));else if (lang === 'cz' && sumAll > 2000) setSale(Math.round(sumAll * 0.05));\n\n  if (lang === 'cz' && sumAll > 2000 || lang === 'en' && sumAll > 150) {\n    setSumBefore(Math.round(sumAll - sumAll * 0.05));\n    sumAll = sumAll - sumAll * 0.05;\n  }\n\n  if (lang === 'en' && sumAll <= 150 || lang === 'cz' && sumAll <= 2000) setSale(0);\n\n  if (delivery || payment) {\n    if (delivery !== translate.free[lang] && (lang === 'en' && sumAll <= 100 || lang === 'cz' && sumAll <= 1500)) sumAll = +sumAll + +delivery.split(' ')[0];\n    if (payment !== translate.free[lang]) sumAll = +sumAll + +payment.split(' ')[0];\n  }\n\n  if (lang === 'en') setSum((Math.round(sumAll * 100) / 100).toFixed(2));else setSum(Math.round(sumAll));\n};\n\nexport default sumTotal;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/functions/sumTotal.js"],"names":["sumTotal","delivery","payment","basket","setSumBefore","setSale","setSum","lang","sumAll","sumItem","newBasket","map","item","index","variantPrice","String","countVariant","sumItemsBefore","Math","round","toFixed","translate","free","split"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,CAACC,QAAD,EAAWC,OAAX,EAAoBC,MAApB,EAA4BC,YAA5B,EAA0CC,OAA1C,EAAmDC,MAAnD,EAA2DC,IAA3D,KAAoE;AACnF,MAAIC,MAAM,GAAG,CAAb;AAAA,MAAgBC,OAAO,GAAG,CAA1B;AACA,MAAIC,SAAS,GAAGP,MAAhB;AACAO,EAAAA,SAAS,CAACC,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAE7B,QAAGD,IAAI,CAACE,YAAL,YAA6BC,MAAhC,EAAuCN,OAAO,GAAG,CAACG,IAAI,CAACE,YAAN,GAAqBF,IAAI,CAACI,YAApC,CAAvC,KACKP,OAAO,GAAGG,IAAI,CAACE,YAAL,GAAoBF,IAAI,CAACI,YAAnC;AAELR,IAAAA,MAAM,GAAG,CAACC,OAAD,GAAWD,MAApB;AACD,GAND;AAQA,MAAIS,cAAc,GAAGT,MAArB;AACAJ,EAAAA,YAAY,CAACa,cAAD,CAAZ;AAEA,MAAGV,IAAI,KAAK,IAAT,IAAiBC,MAAM,GAAG,GAA7B,EAAkCH,OAAO,CAAC,CAACa,IAAI,CAACC,KAAL,CAAWX,MAAM,GAAG,IAAT,GAAgB,GAA3B,IAAkC,GAAnC,EAAwCY,OAAxC,CAAgD,CAAhD,CAAD,CAAP,CAAlC,KACK,IAAGb,IAAI,KAAK,IAAT,IAAiBC,MAAM,GAAG,IAA7B,EAAmCH,OAAO,CAACa,IAAI,CAACC,KAAL,CAAWX,MAAM,GAAG,IAApB,CAAD,CAAP;;AAExC,MAAGD,IAAI,KAAK,IAAT,IAAiBC,MAAM,GAAG,IAA1B,IAAkCD,IAAI,KAAK,IAAT,IAAiBC,MAAM,GAAG,GAA/D,EAAmE;AACjEJ,IAAAA,YAAY,CAACc,IAAI,CAACC,KAAL,CAAWX,MAAM,GAAIA,MAAM,GAAG,IAA9B,CAAD,CAAZ;AACAA,IAAAA,MAAM,GAAGA,MAAM,GAAIA,MAAM,GAAG,IAA5B;AACD;;AAED,MAAGD,IAAI,KAAK,IAAT,IAAiBC,MAAM,IAAI,GAA3B,IAAkCD,IAAI,KAAK,IAAT,IAAiBC,MAAM,IAAI,IAAhE,EAAsEH,OAAO,CAAC,CAAD,CAAP;;AAEtE,MAAGJ,QAAQ,IAAIC,OAAf,EAAuB;AACrB,QAAGD,QAAQ,KAAKoB,SAAS,CAACC,IAAV,CAAef,IAAf,CAAb,KAAuCA,IAAI,KAAK,IAAT,IAAiBC,MAAM,IAAI,GAA5B,IAAqCD,IAAI,KAAK,IAAT,IAAiBC,MAAM,IAAI,IAAtG,CAAH,EAAiHA,MAAM,GAAG,CAACA,MAAD,GAAU,CAACP,QAAQ,CAACsB,KAAT,CAAe,GAAf,EAAoB,CAApB,CAApB;AACjH,QAAGrB,OAAO,KAAKmB,SAAS,CAACC,IAAV,CAAef,IAAf,CAAf,EAAqCC,MAAM,GAAG,CAACA,MAAD,GAAU,CAACN,OAAO,CAACqB,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAApB;AACtC;;AAED,MAAGhB,IAAI,KAAK,IAAZ,EAAkBD,MAAM,CAAC,CAACY,IAAI,CAACC,KAAL,CAAWX,MAAM,GAAG,GAApB,IAA2B,GAA5B,EAAiCY,OAAjC,CAAyC,CAAzC,CAAD,CAAN,CAAlB,KACKd,MAAM,CAACY,IAAI,CAACC,KAAL,CAAWX,MAAX,CAAD,CAAN;AACN,CA/BD;;AAiCA,eAAeR,QAAf","sourcesContent":["const sumTotal = (delivery, payment, basket, setSumBefore, setSale, setSum, lang) => {\n  var sumAll = 0, sumItem = 0;\n  var newBasket = basket\n  newBasket.map((item, index) => {\n\n    if(item.variantPrice instanceof String)sumItem = +item.variantPrice * item.countVariant\n    else sumItem = item.variantPrice * item.countVariant\n\n    sumAll = +sumItem + sumAll\n  })\n\n  let sumItemsBefore = sumAll\n  setSumBefore(sumItemsBefore)\n\n  if(lang === 'en' && sumAll > 150) setSale((Math.round(sumAll * 0.05 * 100) / 100).toFixed(2))\n  else if(lang === 'cz' && sumAll > 2000) setSale(Math.round(sumAll * 0.05))\n\n  if(lang === 'cz' && sumAll > 2000 || lang === 'en' && sumAll > 150){\n    setSumBefore(Math.round(sumAll - (sumAll * 0.05)))\n    sumAll = sumAll - (sumAll * 0.05)\n  }\n\n  if(lang === 'en' && sumAll <= 150 || lang === 'cz' && sumAll <= 2000) setSale(0)\n\n  if(delivery || payment){\n    if(delivery !== translate.free[lang] && ((lang === 'en' && sumAll <= 100) || (lang === 'cz' && sumAll <= 1500))) sumAll = +sumAll + +delivery.split(' ')[0]\n    if(payment !== translate.free[lang]) sumAll = +sumAll + +payment.split(' ')[0]\n  }\n\n  if(lang === 'en') setSum((Math.round(sumAll * 100) / 100).toFixed(2))\n  else setSum(Math.round(sumAll))\n}\n\nexport default sumTotal\n"]},"metadata":{},"sourceType":"module"}