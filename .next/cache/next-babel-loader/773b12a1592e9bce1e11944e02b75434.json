{"ast":null,"code":"import translate from '../data/staticTranslate';\n\nconst sumTotal = (delivery, payment, basket, setSumBefore, setSale, setSum, lang) => {\n  var sumAll = 0,\n      sumItem = 0;\n  var newBasket = basket;\n  newBasket.map((item, index) => {\n    if (item.variantPrice instanceof String) sumItem = +item.variantPrice * item.countVariant;else sumItem = item.variantPrice * item.countVariant;\n    sumAll = +sumItem + sumAll;\n  });\n  let sumItemsBefore = sumAll;\n  setSumBefore(sumItemsBefore);\n  if (lang === 'en' && sumAll > 150) setSale((Math.round(sumAll * 0.05 * 100) / 100).toFixed(2));else if (lang === 'cz' && sumAll > 2000) setSale(Math.round(sumAll * 0.05));\n\n  if (lang === 'cz' && sumAll > 2000 || lang === 'en' && sumAll > 150) {\n    setSumBefore(Math.round(sumAll - sumAll * 0.05));\n    sumAll = sumAll - sumAll * 0.05;\n  }\n\n  if (lang === 'en' && sumAll <= 150 || lang === 'cz' && sumAll <= 2000) setSale(0);\n\n  if (delivery || payment) {\n    if (delivery !== translate.free[lang] && (lang === 'en' && sumAll <= 100 || lang === 'cz' && sumAll <= 1500)) sumAll = +sumAll + +delivery.split(' ')[0];\n    if (payment !== translate.free[lang]) sumAll = +sumAll + +payment.split(' ')[0];\n  }\n\n  if (lang === 'en') setSum((Math.round(sumAll * 100) / 100).toFixed(2));else setSum(Math.round(sumAll));\n};\n\nexport default sumTotal;","map":null,"metadata":{},"sourceType":"module"}