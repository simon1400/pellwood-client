{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate';\nimport { DataStateContext } from '../context/dataStateContext';\nimport localize from '../data/localize';\nimport Canvas from './Canvas';\nimport { useRouter } from 'next/router';\n\nconst Header = () => {\n  var _dataContextState$use, _dataContextState$use2;\n\n  const router = useRouter();\n  const {\n    lang,\n    currency\n  } = localize(router.locale);\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const {\n    dataContextState,\n    dataContextDispatch\n  } = useContext(DataStateContext);\n  const {\n    0: menu,\n    1: setMenu\n  } = useState([]);\n  const {\n    0: basketCount,\n    1: setBasketCount\n  } = useState(0);\n  const {\n    0: hamburger,\n    1: setHamburger\n  } = useState(false);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, []);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, [router.locale]);\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount);\n  }, [dataContextState.basketCount]);\n\n  const handleHamburger = () => {\n    if (hamburger) {\n      document.body.style.overflow = 'scroll';\n    } else {\n      document.body.style.overflow = 'hidden';\n    }\n\n    setHamburger(!hamburger);\n  };\n\n  const changeLanguage = (e, url) => {\n    dataContextDispatch({\n      state: [],\n      type: 'basket'\n    });\n    dataContextDispatch({\n      state: 0,\n      type: 'basketCount'\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Canvas, {\n    currency: currency\n  }), __jsx(\"header\", null, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand uk-height-1-1\"\n  }, __jsx(\"div\", {\n    className: \"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"logo-wrap uk-width-auto\"\n  }, __jsx(\"img\", {\n    src: \"/assets/logo.svg\",\n    width: \"200\",\n    height: \"100%\",\n    alt: \"Pellwood\"\n  }))), __jsx(\"div\", {\n    className: \"uk-text-right uk-width-expand uk-hidden@m\"\n  }, __jsx(\"button\", {\n    className: `hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`,\n    onClick: () => handleHamburger(),\n    type: \"button\"\n  }, __jsx(\"span\", {\n    className: \"hamburger-box\"\n  }, __jsx(\"span\", {\n    className: \"hamburger-inner\"\n  })))), __jsx(\"div\", {\n    className: `top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : ''\n  }, __jsx(Link, {\n    href: \"/produkty\"\n  }, __jsx(\"a\", null, translate.products[lang]))), (menu || []).map((item, index) => __jsx(\"li\", {\n    key: index,\n    className: router.asPath.indexOf(item === null || item === void 0 ? void 0 : item.slug.current) >= 0 ? 'active-menu-top' : ''\n  }, __jsx(Link, {\n    href: `/kategorie/${item.slug.current}`\n  }, __jsx(\"a\", null, item.title)))))), __jsx(\"div\", {\n    className: \"lang-nav uk-hidden@m\"\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\"\n  }, __jsx(\"a\", null, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"en\"\n  }, __jsx(\"a\", null, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area uk-hidden@m\"\n  }, __jsx(\"div\", {\n    className: \"login\"\n  }, ((_dataContextState$use = dataContextState.user) === null || _dataContextState$use === void 0 ? void 0 : _dataContextState$use.email) ? __jsx(Link, {\n    href: \"/user\"\n  }, __jsx(\"a\", null, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    \"uk-toggle\": \"\"\n  }, \"P\\u0159ihla\\u0161en\\xED\")))), __jsx(\"div\", {\n    className: \"uk-flex function-button-wrap uk-width-auto\"\n  }, __jsx(\"div\", {\n    className: \"lang-nav uk-visible@m\"\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    onClick: e => changeLanguage(e, '/')\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\"\n  }, __jsx(\"a\", null, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    onClick: e => changeLanguage(e, '/en')\n  }, __jsx(Link, {\n    href: \"/en\",\n    locale: \"en\"\n  }, __jsx(\"a\", null, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area\"\n  }, __jsx(\"div\", {\n    className: \"login\"\n  }, ((_dataContextState$use2 = dataContextState.user) === null || _dataContextState$use2 === void 0 ? void 0 : _dataContextState$use2.email) ? __jsx(Link, {\n    href: \"/user\"\n  }, __jsx(\"a\", {\n    className: \"uk-visible@m\"\n  }, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    className: \"uk-visible@m\",\n    \"uk-toggle\": \"\"\n  }, translate.login[lang]), __jsx(\"a\", {\n    nohref: \"\",\n    href: \"/\",\n    className: \"basket_count\",\n    \"uk-toggle\": \"target: #offcanvas-flip\"\n  }, basketCount))))))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}