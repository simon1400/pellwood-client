{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState } from 'react';\nimport { modal } from 'uikit';\nimport { AxiosAPI } from '../../restClient';\nimport translate from '../../data/staticTranslate';\nimport { useRouter } from 'next/router';\nimport localize from '../../data/localize';\n\nconst ForgotPassword = () => {\n  const router = useRouter();\n  const {\n    lang\n  } = localize(router.locale);\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: done,\n    1: setDone\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState({});\n\n  const closeModal = () => {\n    modal('#forgot-password').hide();\n  };\n\n  const handleInput = (e, type) => {\n    if (type === 'email') {\n      setError(_objectSpread(_objectSpread({}, error), {}, {\n        loginEmail: false\n      }));\n      setEmail(e.target.value);\n    }\n  };\n\n  const send = e => {\n    e.preventDefault();\n    AxiosAPI.post(`${process.env.REACT_APP_API}/send/reset-password`, {\n      email\n    }).then(res => {\n      console.log(res);\n      setDone(true);\n    }).catch(err => console.log(err));\n  };\n\n  return __jsx(\"div\", {\n    id: \"forgot-password\",\n    className: \"uk-flex-top\",\n    \"uk-modal\": \"\"\n  }, __jsx(\"div\", {\n    className: \"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\"\n  }, __jsx(\"div\", {\n    className: \"tm-canvas-head\",\n    style: {\n      marginTop: 0\n    }\n  }, __jsx(\"h2\", null, translate.forgottenpassword[lang]), __jsx(\"button\", {\n    className: \"tm-canvas-close uk-close-large\",\n    type: \"button\",\n    \"uk-close\": \"\",\n    onClick: e => closeModal()\n  })), !done && __jsx(\"div\", {\n    className: \"login_form\"\n  }, __jsx(\"form\", {\n    onSubmit: e => send(e)\n  }, error.loginEmail === 'notExist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Zadaliste spatne email nebo heslo\")), error.loginEmail === 'exist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Uzivatel s timto emailem uz existuje\")), (error.loginEmail === 'empty' || error.loginPassword === 'empty') && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Vypl\\u0148te v\\u0161echna pole\")), __jsx(\"div\", {\n    className: \"uk-margin input_item\"\n  }, __jsx(\"input\", {\n    className: `${email.length && 'hasValue'} ${error.loginEmail && 'invalid'}`,\n    type: \"email\",\n    value: email,\n    onChange: e => handleInput(e, 'email'),\n    tabIndex: \"1\"\n  }), __jsx(\"label\", null, translate.formemail[lang])), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"tm-button tm-black-button uk-width-1-1\"\n  }, translate.sendResetPasswordButton[lang]))), done && __jsx(\"div\", {\n    className: \"uk-alert-success\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Link pro obnoveni hesla byl zaslany na vas email\"))));\n};\n\nexport default ForgotPassword;","map":null,"metadata":{},"sourceType":"module"}