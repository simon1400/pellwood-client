{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/components/ForgotPassword/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState } from 'react';\nimport { modal } from 'uikit';\nimport { AxiosAPI } from '../../restClient';\nimport translate from '../../data/staticTranslate';\nimport { useRouter } from 'next/router';\nimport localize from '../../data/localize';\nconst {\n  lang\n} = localize(window.location.href);\n\nconst ForgotPassword = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: done,\n    1: setDone\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState({});\n\n  const closeModal = () => {\n    modal('#forgot-password').hide();\n  };\n\n  const handleInput = (e, type) => {\n    if (type === 'email') {\n      setError(_objectSpread(_objectSpread({}, error), {}, {\n        loginEmail: false\n      }));\n      setEmail(e.target.value);\n    }\n  };\n\n  const send = e => {\n    e.preventDefault();\n    AxiosAPI.post(`${process.env.REACT_APP_API}/send/reset-password`, {\n      email\n    }).then(res => {\n      console.log(res);\n      setDone(true);\n    }).catch(err => console.log(err));\n  };\n\n  return __jsx(\"div\", {\n    id: \"forgot-password\",\n    className: \"uk-flex-top\",\n    \"uk-modal\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"tm-canvas-head\",\n    style: {\n      marginTop: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, translate.forgottenpassword[lang]), __jsx(\"button\", {\n    className: \"tm-canvas-close uk-close-large\",\n    type: \"button\",\n    \"uk-close\": \"\",\n    onClick: e => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  })), !done && __jsx(\"div\", {\n    className: \"login_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, __jsx(\"form\", {\n    onSubmit: e => send(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, error.loginEmail === 'notExist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 49\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 94\n    }\n  }, \"Zadaliste spatne email nebo heslo\")), error.loginEmail === 'exist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 46\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 91\n    }\n  }, \"Uzivatel s timto emailem uz existuje\")), (error.loginEmail === 'empty' || error.loginPassword === 'empty') && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 83\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 128\n    }\n  }, \"Vypl\\u0148te v\\u0161echna pole\")), __jsx(\"div\", {\n    className: \"uk-margin input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    className: `${email.length && 'hasValue'} ${error.loginEmail && 'invalid'}`,\n    type: \"email\",\n    value: email,\n    onChange: e => handleInput(e, 'email'),\n    tabIndex: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }), __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, translate.formemail[lang])), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"tm-button tm-black-button uk-width-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, translate.sendResetPasswordButton[lang]))), done && __jsx(\"div\", {\n    className: \"uk-alert-success\",\n    \"uk-alert\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 18\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 64\n    }\n  }, \"Link pro obnoveni hesla byl zaslany na vas email\"))));\n};\n\nexport default ForgotPassword;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/components/ForgotPassword/index.js"],"names":["useState","modal","AxiosAPI","translate","useRouter","localize","lang","window","location","href","ForgotPassword","email","setEmail","done","setDone","error","setError","closeModal","hide","handleInput","e","type","loginEmail","target","value","send","preventDefault","post","process","env","REACT_APP_API","then","res","console","log","catch","err","marginTop","forgottenpassword","loginPassword","length","formemail","sendResetPasswordButton"],"mappings":"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","sourcesContent":["import {useState} from 'react'\nimport {modal} from 'uikit'\nimport {AxiosAPI} from '../../restClient'\nimport translate from '../../data/staticTranslate'\nimport { useRouter } from 'next/router'\nimport localize from '../../data/localize'\nconst {lang} = localize(window.location.href)\n\nconst ForgotPassword = () => {\n\n  const [email, setEmail] = useState('')\n  const [done, setDone] = useState(false)\n  const [error, setError] = useState({})\n\n  const closeModal = () => {\n    modal('#forgot-password').hide();\n  }\n\n  const handleInput = (e, type) => {\n    if(type === 'email'){\n      setError({ ...error, loginEmail: false})\n      setEmail(e.target.value)\n    }\n  }\n\n\n  const send = (e) => {\n    e.preventDefault()\n    AxiosAPI.post(`${process.env.REACT_APP_API}/send/reset-password`, {email}).then(res => {\n      console.log(res);\n      setDone(true)\n    }).catch(err => console.log(err))\n  }\n\n  return(\n    <div id=\"forgot-password\" className=\"uk-flex-top\" uk-modal=\"\">\n      <div className=\"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\">\n\n        <div className=\"tm-canvas-head\" style={{marginTop: 0}}>\n          <h2>{translate.forgottenpassword[lang]}</h2>\n          <button className=\"tm-canvas-close uk-close-large\" type=\"button\" uk-close=\"\" onClick={e => closeModal()}></button>\n        </div>\n\n        {!done && <div className=\"login_form\">\n          <form onSubmit={e => send(e)}>\n\n            {error.loginEmail === 'notExist' && <div className=\"uk-alert-danger\" uk-alert=\"\"><p>Zadaliste spatne email nebo heslo</p></div>}\n            {error.loginEmail === 'exist' && <div className=\"uk-alert-danger\" uk-alert=\"\"><p>Uzivatel s timto emailem uz existuje</p></div>}\n            {(error.loginEmail === 'empty' || error.loginPassword === 'empty') && <div className=\"uk-alert-danger\" uk-alert=\"\"><p>Vyplňte všechna pole</p></div>}\n\n            <div className=\"uk-margin input_item\">\n              <input className={`${email.length && 'hasValue'} ${error.loginEmail && 'invalid'}`} type=\"email\" value={email} onChange={e => handleInput(e, 'email')} tabIndex=\"1\" />\n              <label>{translate.formemail[lang]}</label>\n            </div>\n\n            <button type=\"submit\" className=\"tm-button tm-black-button uk-width-1-1\">{translate.sendResetPasswordButton[lang]}</button>\n          </form>\n        </div>}\n\n        {done && <div className=\"uk-alert-success\" uk-alert=\"\"><p>Link pro obnoveni hesla byl zaslany na vas email</p></div>}\n\n      </div>\n    </div>\n  )\n}\n\nexport default ForgotPassword\n"]},"metadata":{},"sourceType":"module"}