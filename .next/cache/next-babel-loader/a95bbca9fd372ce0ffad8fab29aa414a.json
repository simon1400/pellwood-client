{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/components/Cart/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport sanityClient from \"../../lib/sanity.js\";\nimport translate from '../../data/staticTranslate';\nconst imageBuilder = imageUrlBuilder(sanityClient);\n\nconst urlFor = source => imageBuilder.image(source);\n\nconst Cart = ({\n  item,\n  lang,\n  currency,\n  block\n}) => {\n  _s();\n\n  const {\n    0: pricesGroup,\n    1: setPricesGroup\n  } = useState(false);\n  const {\n    0: price,\n    1: setPrice\n  } = useState(0);\n  const {\n    0: compireTablet\n  } = useState(window.innerWidth <= 960 && window.innerWidth > 640 ? 960 : false);\n  const {\n    0: compireMobile\n  } = useState(window.innerWidth <= 640 ? 640 : false);\n  useEffect(() => {\n    var _item$variants, _item$variants2, _item$variants3;\n\n    if ((item === null || item === void 0 ? void 0 : (_item$variants = item.variants) === null || _item$variants === void 0 ? void 0 : _item$variants.length) > 1) {\n      setPricesGroup(true);\n      var allPrices = [];\n      item.variants.map(item => {\n        allPrices.push(+item.price);\n      });\n      var minPrice = Math.min(...allPrices);\n\n      if (lang === 'en') {\n        setPrice((Math.round(minPrice * 100) / 100).toFixed(2));\n      } else {\n        setPrice(minPrice);\n      }\n    } else if ((item === null || item === void 0 ? void 0 : (_item$variants2 = item.variants) === null || _item$variants2 === void 0 ? void 0 : _item$variants2.length) === 1) {\n      if (lang === 'en') {\n        setPrice((Math.round(item.variants[0].price * 100) / 100).toFixed(2));\n      } else {\n        setPrice(item.variants[0].price);\n      }\n    } else if (!(item === null || item === void 0 ? void 0 : (_item$variants3 = item.variants) === null || _item$variants3 === void 0 ? void 0 : _item$variants3.length)) {\n      if (lang === 'en') {\n        setPrice((Math.round(+item.price * 100) / 100).toFixed(2));\n      } else {\n        setPrice(item.price);\n      }\n    } else {\n      setPrice('');\n    }\n  }, []);\n\n  if (block) {\n    var _item$variants4;\n\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, __jsx(\"a\", {\n      href: `${lang !== 'cz' ? '/' + lang : ''}/produkt/${item.slug.current}`,\n      className: \"card_short\",\n      style: {\n        opacity: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, __jsx(\"h3\", {\n      className: \"card_short_head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, item.title), __jsx(\"div\", {\n      className: \"cart_img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, __jsx(\"img\", {\n      src: urlFor(item.image).width(compireTablet ? compireTablet * 2 : compireMobile ? compireMobile * 2 : Math.round((window.innerWidth - 160) / 3 * 2)).url(),\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    })), !!price && __jsx(\"span\", {\n      className: \"short_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }\n    }, pricesGroup && `${translate.from[lang]} ${price} ${currency}`, (!pricesGroup || !(item === null || item === void 0 ? void 0 : (_item$variants4 = item.variants) === null || _item$variants4 === void 0 ? void 0 : _item$variants4.length)) && `${price} ${currency}`)));\n  } else {\n    var _item$category, _item$variants5;\n\n    return __jsx(\"li\", {\n      \"data-category\": (_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category._ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, __jsx(\"a\", {\n      href: `${lang !== 'cz' ? '/' + lang : ''}/produkt/${item.slug.current}`,\n      className: \"card_short\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, __jsx(\"h3\", {\n      className: \"card_short_head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, item.title), __jsx(\"div\", {\n      className: \"cart_img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, __jsx(\"img\", {\n      src: urlFor(item.image).width(compireTablet ? compireTablet * 2 : compireMobile ? compireMobile * 2 : Math.round((window.innerWidth - 160) / 3 * 2)).url(),\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    })), !!price && __jsx(\"span\", {\n      className: \"short_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, pricesGroup && `${translate.from[lang]} ${price} ${currency}`, (!pricesGroup || !(item === null || item === void 0 ? void 0 : (_item$variants5 = item.variants) === null || _item$variants5 === void 0 ? void 0 : _item$variants5.length)) && `${price} ${currency}`)));\n  }\n};\n\n_s(Cart, \"Ex72cdxiiQhA3cy1bbFqxgSKMFg=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/components/Cart/index.js"],"names":["useState","useEffect","imageUrlBuilder","sanityClient","translate","imageBuilder","urlFor","source","image","Cart","item","lang","currency","block","pricesGroup","setPricesGroup","price","setPrice","compireTablet","window","innerWidth","compireMobile","variants","length","allPrices","map","push","minPrice","Math","min","round","toFixed","slug","current","opacity","title","width","url","from","category","_ref"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react';\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport sanityClient from \"../../lib/sanity.js\";\nimport translate from '../../data/staticTranslate'\n\nconst imageBuilder = imageUrlBuilder(sanityClient);\nconst urlFor = source => imageBuilder.image(source);\n\nconst Cart = ({item, lang, currency, block}) => {\n\n  const [pricesGroup, setPricesGroup] = useState(false)\n  const [price, setPrice] = useState(0)\n\n  const [compireTablet] = useState(window.innerWidth <= 960 && window.innerWidth > 640 ? 960 : false)\n  const [compireMobile] = useState(window.innerWidth <= 640 ? 640 : false)\n\n  useEffect(() => {\n    if(item?.variants?.length > 1){\n      setPricesGroup(true)\n      var allPrices = []\n      item.variants.map(item => {\n        allPrices.push(+item.price)\n      })\n      var minPrice = Math.min(...allPrices)\n      if(lang === 'en'){\n        setPrice((Math.round(minPrice * 100) / 100).toFixed(2))\n      }else{\n        setPrice(minPrice)\n      }\n    }else if(item?.variants?.length === 1){\n      if(lang === 'en'){\n        setPrice((Math.round(item.variants[0].price * 100) / 100).toFixed(2))\n      }else{\n        setPrice(item.variants[0].price)\n      }\n    }else if (!item?.variants?.length){\n      if(lang === 'en'){\n        setPrice((Math.round(+item.price * 100) / 100).toFixed(2))\n      }else{\n        setPrice(item.price)\n      }\n    }else{\n      setPrice('')\n    }\n  }, [])\n\n  if(block) {\n    return(\n      <div>\n        <a href={`${lang !== 'cz' ? '/' + lang : ''}/produkt/${item.slug.current}`} className=\"card_short\" style={{opacity: 1}}>\n          <h3 className=\"card_short_head\">{item.title}</h3>\n          <div className=\"cart_img\">\n            <img src={urlFor(item.image).width(compireTablet ? compireTablet * 2 : compireMobile ? compireMobile * 2 : Math.round(((window.innerWidth - 160) / 3) * 2)).url()} alt={item.title} />\n          </div>\n          {!!price && <span className=\"short_price\">\n            {pricesGroup && `${translate.from[lang]} ${price} ${currency}`}\n            {(!pricesGroup || !item?.variants?.length) && `${price} ${currency}`}\n          </span>}\n        </a>\n      </div>\n    )\n  }else{\n    return (\n      <li data-category={item.category?._ref}>\n        <a href={`${lang !== 'cz' ? '/' + lang : ''}/produkt/${item.slug.current}`} className=\"card_short\">\n          <h3 className=\"card_short_head\">{item.title}</h3>\n          <div className=\"cart_img\">\n            <img src={urlFor(item.image).width(compireTablet ? compireTablet * 2 : compireMobile ? compireMobile * 2 : Math.round(((window.innerWidth - 160) / 3) * 2)).url()} alt={item.title} />\n          </div>\n          {!!price &&\n            <span className=\"short_price\">\n              {pricesGroup && `${translate.from[lang]} ${price} ${currency}`}\n              {(!pricesGroup || !item?.variants?.length) && `${price} ${currency}`}\n            </span>}\n        </a>\n      </li>\n    )\n  }\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}