{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Page from '../../layout/Page';\nimport SubMenu from '../../components/SubMenu';\nimport Article from '../../components/ArticleShort';\nimport localize from '../../data/localize';\nimport sanityClient from \"../../lib/sanity.js\";\nexport async function getServerSideProps({\n  params,\n  locale\n}) {\n  const {\n    lang\n  } = localize(locale);\n  const archive = `*[_type == \"archive\" && '${params.category}' == ${lang}.slug.current] {\n    _id,\n    \"titleHead\": ${lang}.titleHead,\n    \"descriptionHead\": ${lang}.descriptionHead\n  } | order(sort asc)`;\n  const query = `*[_type == \"article\" && $id == ${lang}.category._ref] {\n    \"title\": ${lang}.title,\n    \"image\": ${lang}.image,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const data = await sanityClient.fetch(archive);\n\n  if (!data.length) {\n    window.location.href = '/not-found';\n  }\n\n  const articles = await sanityClient.fetch(query, {\n    id: data[0]._id\n  });\n  return {\n    props: {\n      articles,\n      archives: data[0],\n      lang\n    }\n  };\n}\n\nconst BlogShort = ({\n  articles,\n  archives,\n  lang\n}) => {\n  return __jsx(Page, {\n    id: \"blog\",\n    description: archives.descriptionHead,\n    title: archives.titleHead\n  }, __jsx(\"section\", {\n    className: \"head_category head_category_articles\"\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\"\n  }, __jsx(SubMenu, {\n    data: articles,\n    articles: true\n  }))), __jsx(\"section\", {\n    className: \"category grey\"\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\"\n  }, __jsx(\"div\", {\n    className: \"uk-grid uk-child-width-1-1 uk-child-width-1-2@s\",\n    \"uk-grid\": \"\",\n    \"uk-scrollspy\": \"target: > div > a; cls: uk-animation-slide-top-small; delay: 500\"\n  }, (articles || []).map((item, index) => __jsx(Article, {\n    key: index,\n    lang: lang,\n    data: item\n  }))))));\n};\n\nexport default BlogShort;","map":null,"metadata":{},"sourceType":"module"}