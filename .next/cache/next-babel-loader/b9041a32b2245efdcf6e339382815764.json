{"ast":null,"code":"import _defineProperty from \"/Users/dmytropechunka/Desktop/work/pellwood/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState } from 'react';\nimport { modal } from 'uikit';\nimport { AxiosAPI } from '../../restClient';\nimport translate from '../../data/staticTranslate';\nimport { useRouter } from 'next/router';\nimport localize from '../../data/localize';\n\nvar ForgotPassword = function ForgotPassword() {\n  var router = useRouter();\n\n  var _localize = localize(router.locale),\n      lang = _localize.lang;\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(false),\n      done = _useState2[0],\n      setDone = _useState2[1];\n\n  var _useState3 = useState({}),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var closeModal = function closeModal() {\n    modal('#forgot-password').hide();\n  };\n\n  var handleInput = function handleInput(e, type) {\n    if (type === 'email') {\n      setError(_objectSpread(_objectSpread({}, error), {}, {\n        loginEmail: false\n      }));\n      setEmail(e.target.value);\n    }\n  };\n\n  var send = function send(e) {\n    e.preventDefault();\n    AxiosAPI.post(\"\".concat(process.env.REACT_APP_API, \"/send/reset-password\"), {\n      email: email\n    }).then(function (res) {\n      console.log(res);\n      setDone(true);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return __jsx(\"div\", {\n    id: \"forgot-password\",\n    className: \"uk-flex-top\",\n    \"uk-modal\": \"\"\n  }, __jsx(\"div\", {\n    className: \"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\"\n  }, __jsx(\"div\", {\n    className: \"tm-canvas-head\",\n    style: {\n      marginTop: 0\n    }\n  }, __jsx(\"h2\", null, translate.forgottenpassword[lang]), __jsx(\"button\", {\n    className: \"tm-canvas-close uk-close-large\",\n    type: \"button\",\n    \"uk-close\": \"\",\n    onClick: function onClick(e) {\n      return closeModal();\n    }\n  })), !done && __jsx(\"div\", {\n    className: \"login_form\"\n  }, __jsx(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return send(e);\n    }\n  }, error.loginEmail === 'notExist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Zadaliste spatne email nebo heslo\")), error.loginEmail === 'exist' && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Uzivatel s timto emailem uz existuje\")), (error.loginEmail === 'empty' || error.loginPassword === 'empty') && __jsx(\"div\", {\n    className: \"uk-alert-danger\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Vypl\\u0148te v\\u0161echna pole\")), __jsx(\"div\", {\n    className: \"uk-margin input_item\"\n  }, __jsx(\"input\", {\n    className: \"\".concat(email.length && 'hasValue', \" \").concat(error.loginEmail && 'invalid'),\n    type: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return handleInput(e, 'email');\n    },\n    tabIndex: \"1\"\n  }), __jsx(\"label\", null, translate.formemail[lang])), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"tm-button tm-black-button uk-width-1-1\"\n  }, translate.sendResetPasswordButton[lang]))), done && __jsx(\"div\", {\n    className: \"uk-alert-success\",\n    \"uk-alert\": \"\"\n  }, __jsx(\"p\", null, \"Link pro obnoveni hesla byl zaslany na vas email\"))));\n};\n\nexport default ForgotPassword;","map":null,"metadata":{},"sourceType":"module"}