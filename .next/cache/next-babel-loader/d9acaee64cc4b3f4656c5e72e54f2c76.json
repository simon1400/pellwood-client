{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/pages/kategorie/[category].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Page from '../../layout/page';\nimport SubMenu from '../../components/SubMenu';\nimport Article from '../../components/ArticleShort';\nimport localize from '../../data/localize';\nimport sanityClient from \"../../lib/sanity.js\";\nexport async function getServerSideProps({\n  params,\n  locale\n}) {\n  // const router = useRouter()\n  const {\n    lang\n  } = localize(locale);\n  const archive = `*[_type == \"archive\" && '${params.category}' == ${lang}.slug.current] {\n    _id,\n    \"titleHead\": ${lang}.titleHead,\n    \"descriptionHead\": ${lang}.descriptionHead\n  } | order(sort asc)`;\n  const query = `*[_type == \"article\" && $id == ${lang}.category._ref] {\n    \"title\": ${lang}.title,\n    \"image\": ${lang}.image,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const data = await sanityClient.fetch(archive);\n\n  if (!data.length) {\n    window.location.href = '/not-found';\n  }\n\n  const id = data[0]._id;\n  const archives = data[0];\n\n  if (id.length) {\n    const shortData = sanityClient.fetch(query, {\n      id: id\n    });\n    const articles = shortData;\n  }\n\n  return {\n    props: {\n      homepage: data.homepage[0][lang],\n      carts: data.homepage[0].carts,\n      articleFirst,\n      articleSeccond,\n      lang,\n      currency\n    }\n  };\n}\n\nconst BlogShort = () => {\n  const {\n    0: articles,\n    1: setArticles\n  } = useState([]);\n  const {\n    0: archives,\n    1: setArchives\n  } = useState([]);\n  const {\n    0: id,\n    1: setId\n  } = useState([]);\n  return __jsx(Page, {\n    id: \"blog\",\n    description: archives.descriptionHead,\n    title: archives.titleHead,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(\"section\", {\n    className: \"head_category head_category_articles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(SubMenu, {\n    data: articles,\n    articles: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }\n  }))), __jsx(\"section\", {\n    className: \"category grey\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-grid uk-child-width-1-1 uk-child-width-1-2@s\",\n    \"uk-grid\": \"\",\n    \"uk-scrollspy\": \"target: > div > a; cls: uk-animation-slide-top-small; delay: 500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, (articles || []).map((item, index) => __jsx(Article, {\n    key: index,\n    lang: lang,\n    data: item,\n    firstUrl: firstUrl,\n    seccondUrl: seccondUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 52\n    }\n  }))))));\n};\n\nexport default BlogShort;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/pages/kategorie/[category].js"],"names":["useState","useEffect","Page","SubMenu","Article","localize","sanityClient","getServerSideProps","params","locale","lang","archive","category","query","data","fetch","length","window","location","href","id","_id","archives","shortData","articles","props","homepage","carts","articleFirst","articleSeccond","currency","BlogShort","setArticles","setArchives","setId","descriptionHead","titleHead","map","item","index","firstUrl","seccondUrl"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react';\nimport Page from '../../layout/page';\nimport SubMenu from '../../components/SubMenu';\nimport Article from '../../components/ArticleShort';\nimport localize from '../../data/localize'\nimport sanityClient from \"../../lib/sanity.js\";\n\nexport async function getServerSideProps({params, locale}) {\n\n  // const router = useRouter()\n  const {lang} = localize(locale)\n\n  const archive = `*[_type == \"archive\" && '${params.category}' == ${lang}.slug.current] {\n    _id,\n    \"titleHead\": ${lang}.titleHead,\n    \"descriptionHead\": ${lang}.descriptionHead\n  } | order(sort asc)`;\n\n\n  const query = `*[_type == \"article\" && $id == ${lang}.category._ref] {\n    \"title\": ${lang}.title,\n    \"image\": ${lang}.image,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n\n  const data = await sanityClient.fetch(archive)\n\n  if(!data.length){\n    window.location.href = '/not-found'\n  }\n  const id = data[0]._id\n  const archives = data[0]\n\n  if(id.length){\n    const shortData = sanityClient.fetch(query, {id: id})\n    const articles = shortData\n  }\n\n  return {\n    props: {\n      homepage: data.homepage[0][lang],\n      carts: data.homepage[0].carts,\n      articleFirst,\n      articleSeccond,\n      lang,\n      currency\n    }\n  }\n}\n\nconst BlogShort = () => {\n\n  const [articles, setArticles] = useState([])\n  const [archives, setArchives] = useState([])\n  const [id, setId] = useState([])\n\n  return (\n    <Page id=\"blog\" description={archives.descriptionHead} title={archives.titleHead}>\n      <section className=\"head_category head_category_articles\">\n        <div className=\"uk-container uk-container-expand\">\n           <SubMenu data={articles} articles />\n        </div>\n      </section>\n\n      <section className=\"category grey\">\n        <div className=\"uk-container uk-container-expand\">\n          <div className=\"uk-grid uk-child-width-1-1 uk-child-width-1-2@s\" uk-grid=\"\" uk-scrollspy=\"target: > div > a; cls: uk-animation-slide-top-small; delay: 500\">\n            {(articles || []).map((item, index) => <Article key={index} lang={lang} data={item} firstUrl={firstUrl} seccondUrl={seccondUrl}/>)}\n          </div>\n        </div>\n      </section>\n    </Page>\n  )\n}\n\n\nexport default BlogShort\n"]},"metadata":{},"sourceType":"module"}