{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate';\nimport { DataStateContext } from '../context/dataStateContext';\nimport localize from '../data/localize';\nimport Canvas from './Canvas';\nimport { useRouter } from 'next/router';\n\nvar Header = function Header() {\n  var _dataContextState$use, _dataContextState$use2;\n\n  var router = useRouter();\n\n  var _localize = localize(router.locale),\n      lang = _localize.lang,\n      currency = _localize.currency;\n\n  var query = \"*[_type == \\\"archive\\\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\\n    \\\"title\\\": \".concat(lang, \".title,\\n    \\\"slug\\\": \").concat(lang, \".slug,\\n    \\\"sort\\\": \").concat(lang, \".sort\\n  } | order(sort asc)\");\n\n  var _useContext = useContext(DataStateContext),\n      dataContextState = _useContext.dataContextState,\n      dataContextDispatch = _useContext.dataContextDispatch;\n\n  var _useState = useState([]),\n      menu = _useState[0],\n      setMenu = _useState[1];\n\n  var _useState2 = useState(0),\n      basketCount = _useState2[0],\n      setBasketCount = _useState2[1];\n\n  var _useState3 = useState(false),\n      hamburger = _useState3[0],\n      setHamburger = _useState3[1];\n\n  useEffect(function () {\n    sanityClient.fetch(query).then(function (data) {\n      return setMenu(data);\n    });\n  }, []);\n  useEffect(function () {\n    sanityClient.fetch(query).then(function (data) {\n      return setMenu(data);\n    });\n  }, [router.locale]);\n  useEffect(function () {\n    setBasketCount(dataContextState.basketCount);\n  }, [dataContextState.basketCount]);\n\n  var handleHamburger = function handleHamburger() {\n    if (hamburger) {\n      document.body.style.overflow = 'scroll';\n    } else {\n      document.body.style.overflow = 'hidden';\n    }\n\n    setHamburger(!hamburger);\n  };\n\n  var changeLanguage = function changeLanguage(e, url) {\n    dataContextDispatch({\n      state: [],\n      type: 'basket'\n    });\n    dataContextDispatch({\n      state: 0,\n      type: 'basketCount'\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Canvas, {\n    currency: currency\n  }), __jsx(\"header\", null, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand uk-height-1-1\"\n  }, __jsx(\"div\", {\n    className: \"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"logo-wrap uk-width-auto\"\n  }, __jsx(\"img\", {\n    src: \"/assets/logo.svg\",\n    width: \"200\",\n    height: \"100%\",\n    alt: \"Pellwood\"\n  }))), __jsx(\"div\", {\n    className: \"uk-text-right uk-width-expand uk-hidden@m\"\n  }, __jsx(\"button\", {\n    className: \"hamburger hamburger--spin \".concat(hamburger ? 'is-active' : ''),\n    onClick: function onClick() {\n      return handleHamburger();\n    },\n    type: \"button\"\n  }, __jsx(\"span\", {\n    className: \"hamburger-box\"\n  }, __jsx(\"span\", {\n    className: \"hamburger-inner\"\n  })))), __jsx(\"div\", {\n    className: \"top-nav uk-width-expand \".concat(hamburger ? 'menu-active' : '')\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : ''\n  }, __jsx(Link, {\n    href: \"/produkty\"\n  }, __jsx(\"a\", null, translate.products[lang]))), (menu || []).map(function (item, index) {\n    return __jsx(\"li\", {\n      key: index,\n      className: router.asPath.indexOf(item === null || item === void 0 ? void 0 : item.slug.current) >= 0 ? 'active-menu-top' : ''\n    }, __jsx(Link, {\n      href: \"/kategorie/\".concat(item.slug.current)\n    }, __jsx(\"a\", null, item.title)));\n  }))), __jsx(\"div\", {\n    className: \"lang-nav uk-hidden@m\"\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\"\n  }, __jsx(\"a\", null, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"en\"\n  }, __jsx(\"a\", null, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area uk-hidden@m\"\n  }, __jsx(\"div\", {\n    className: \"login\"\n  }, ((_dataContextState$use = dataContextState.user) === null || _dataContextState$use === void 0 ? void 0 : _dataContextState$use.email) ? __jsx(Link, {\n    href: \"/user\"\n  }, __jsx(\"a\", null, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    \"uk-toggle\": \"\"\n  }, \"P\\u0159ihla\\u0161en\\xED\")))), __jsx(\"div\", {\n    className: \"uk-flex function-button-wrap uk-width-auto\"\n  }, __jsx(\"div\", {\n    className: \"lang-nav uk-visible@m\"\n  }, __jsx(\"nav\", null, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    onClick: function onClick(e) {\n      return changeLanguage(e, '/');\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\"\n  }, __jsx(\"a\", null, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    onClick: function onClick(e) {\n      return changeLanguage(e, '/en');\n    }\n  }, __jsx(Link, {\n    href: \"/en\",\n    locale: \"en\"\n  }, __jsx(\"a\", null, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area\"\n  }, __jsx(\"div\", {\n    className: \"login\"\n  }, ((_dataContextState$use2 = dataContextState.user) === null || _dataContextState$use2 === void 0 ? void 0 : _dataContextState$use2.email) ? __jsx(Link, {\n    href: \"/user\"\n  }, __jsx(\"a\", {\n    className: \"uk-visible@m\"\n  }, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    className: \"uk-visible@m\",\n    \"uk-toggle\": \"\"\n  }, translate.login[lang]), __jsx(\"a\", {\n    nohref: \"\",\n    href: \"/\",\n    className: \"basket_count\",\n    \"uk-toggle\": \"target: #offcanvas-flip\"\n  }, basketCount))))))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}