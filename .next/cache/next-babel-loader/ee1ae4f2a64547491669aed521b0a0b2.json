{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/pages/kategorie/[category].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Page from '../../layout/page';\nimport SubMenu from '../../components/SubMenu';\nimport Article from '../../components/ArticleShort';\n\nconst BlogShort = ({\n  articles,\n  archives,\n  lang\n}) => {\n  return __jsx(Page, {\n    id: \"blog\",\n    description: archives.descriptionHead,\n    title: archives.titleHead,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"section\", {\n    className: \"head_category head_category_articles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, __jsx(SubMenu, {\n    data: articles,\n    articles: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }\n  }))), __jsx(\"section\", {\n    className: \"category grey\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-grid uk-child-width-1-1 uk-child-width-1-2@s\",\n    \"uk-grid\": \"\",\n    \"uk-scrollspy\": \"target: > div > a; cls: uk-animation-slide-top-small; delay: 500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, (articles || []).map((item, index) => __jsx(Article, {\n    key: index,\n    lang: lang,\n    data: item,\n    firstUrl: firstUrl,\n    seccondUrl: seccondUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 52\n    }\n  }))))));\n};\n\n_c = BlogShort;\nexport var __N_SSP = true;\nexport default BlogShort;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogShort\");","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/pages/kategorie/[category].js"],"names":["useState","useEffect","Page","SubMenu","Article","BlogShort","articles","archives","lang","descriptionHead","titleHead","map","item","index","firstUrl","seccondUrl"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,OAAP,MAAoB,+BAApB;;AA0CA,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA,QAAX;AAAqBC,EAAAA;AAArB,CAAD,KAAgC;AAEhD,SACE,MAAC,IAAD;AAAM,IAAA,EAAE,EAAC,MAAT;AAAgB,IAAA,WAAW,EAAED,QAAQ,CAACE,eAAtC;AAAuD,IAAA,KAAK,EAAEF,QAAQ,CAACG,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAS,IAAA,SAAS,EAAC,sCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,MAAC,OAAD;AAAS,IAAA,IAAI,EAAEJ,QAAf;AAAyB,IAAA,QAAQ,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADF,CADF,EAOE;AAAS,IAAA,SAAS,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAiE,eAAQ,EAAzE;AAA4E,oBAAa,kEAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACA,QAAQ,IAAI,EAAb,EAAiBK,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAiB,MAAC,OAAD;AAAS,IAAA,GAAG,EAAEA,KAAd;AAAqB,IAAA,IAAI,EAAEL,IAA3B;AAAiC,IAAA,IAAI,EAAEI,IAAvC;AAA6C,IAAA,QAAQ,EAAEE,QAAvD;AAAiE,IAAA,UAAU,EAAEC,UAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtC,CADH,CADF,CADF,CAPF,CADF;AAiBD,CAnBD;;KAAMV,S;;AAsBN,eAAeA,SAAf","sourcesContent":["import {useState, useEffect} from 'react';\nimport Page from '../../layout/page';\nimport SubMenu from '../../components/SubMenu';\nimport Article from '../../components/ArticleShort';\nimport localize from '../../data/localize'\nimport sanityClient from \"../../lib/sanity.js\";\n\nexport async function getServerSideProps({params, locale}) {\n\n  // const router = useRouter()\n  const {lang} = localize(locale)\n\n  const archive = `*[_type == \"archive\" && '${params.category}' == ${lang}.slug.current] {\n    _id,\n    \"titleHead\": ${lang}.titleHead,\n    \"descriptionHead\": ${lang}.descriptionHead\n  } | order(sort asc)`;\n\n\n  const query = `*[_type == \"article\" && $id == ${lang}.category._ref] {\n    \"title\": ${lang}.title,\n    \"image\": ${lang}.image,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n\n  const data = await sanityClient.fetch(archive)\n\n  if(!data.length){\n    window.location.href = '/not-found'\n  }\n\n  const articles = sanityClient.fetch(query, {id: data[0]._id})\n\n  console.log(articles);\n\n  return {\n    props: {\n      articles: JSON.parse(articles),\n      archives: data[0],\n      lang\n    }\n  }\n}\n\nconst BlogShort = ({articles, archives, lang}) => {\n\n  return (\n    <Page id=\"blog\" description={archives.descriptionHead} title={archives.titleHead}>\n      <section className=\"head_category head_category_articles\">\n        <div className=\"uk-container uk-container-expand\">\n           <SubMenu data={articles} articles />\n        </div>\n      </section>\n\n      <section className=\"category grey\">\n        <div className=\"uk-container uk-container-expand\">\n          <div className=\"uk-grid uk-child-width-1-1 uk-child-width-1-2@s\" uk-grid=\"\" uk-scrollspy=\"target: > div > a; cls: uk-animation-slide-top-small; delay: 500\">\n            {(articles || []).map((item, index) => <Article key={index} lang={lang} data={item} firstUrl={firstUrl} seccondUrl={seccondUrl}/>)}\n          </div>\n        </div>\n      </section>\n    </Page>\n  )\n}\n\n\nexport default BlogShort\n"]},"metadata":{},"sourceType":"module"}