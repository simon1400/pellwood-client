{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate';\nimport { DataStateContext } from '../context/dataStateContext';\nimport localize from '../data/localize';\nimport Canvas from './Canvas';\nimport { useRouter } from 'next/router';\n\nconst Header = () => {\n  _s();\n\n  var _dataContextState$use, _dataContextState$use2;\n\n  const router = useRouter();\n  const {\n    lang,\n    currency\n  } = localize(router.locale);\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const {\n    dataContextState\n  } = useContext(DataStateContext);\n  const {\n    0: menu,\n    1: setMenu\n  } = useState([]);\n  const {\n    0: basketCount,\n    1: setBasketCount\n  } = useState(0);\n  const {\n    0: hamburger,\n    1: setHamburger\n  } = useState(false);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, []);\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount);\n  }, [dataContextState.basketCount]);\n\n  const handleHamburger = () => {\n    if (hamburger) {\n      document.body.style.overflow = 'scroll';\n    } else {\n      document.body.style.overflow = 'hidden';\n    }\n\n    setHamburger(!hamburger);\n  };\n\n  const changeLanguage = (e, url) => {\n    e.preventDefault();\n    localStorage.clear();\n    router.push(url);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Canvas, {\n    currency: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), __jsx(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    href: `/${lang === 'cz' ? '' : lang}`,\n    className: \"logo-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/assets/logo.svg\",\n    width: \"200\",\n    height: \"100%\",\n    alt: \"Pellwood\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"uk-text-right uk-width-expand uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: `hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`,\n    onClick: () => handleHamburger(),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: `top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, __jsx(Link, {\n    href: `/produkty`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 100\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 125\n    }\n  }, translate.products[lang]))), (menu || []).map((item, index) => __jsx(\"li\", {\n    key: index,\n    className: router.asPath.indexOf(item === null || item === void 0 ? void 0 : item.slug.current) >= 0 ? 'active-menu-top' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 54\n    }\n  }, __jsx(Link, {\n    href: `/kategorie/${item.slug.current}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 68\n    }\n  }, item.title)))))), __jsx(\"div\", {\n    className: \"lang-nav uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 79\n    }\n  }, \"cs\")), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/en\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 79\n    }\n  }, \"en\"))))), __jsx(\"div\", {\n    className: \"user-area uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use = dataContextState.user) === null || _dataContextState$use === void 0 ? void 0 : _dataContextState$use.email) ? __jsx(Link, {\n    to: `${lang !== 'cz' ? '/' + lang : ''}/user`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 51\n    }\n  }, translate.account[lang]) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 139\n    }\n  }, \"P\\u0159ihla\\u0161en\\xED\")))), __jsx(\"div\", {\n    className: \"uk-flex function-button-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"lang-nav uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    onClick: e => changeLanguage(e, '/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 79\n    }\n  }, \"cs\")), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/en\",\n    onClick: e => changeLanguage(e, '/en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 79\n    }\n  }, \"en\"))))), __jsx(\"div\", {\n    className: \"user-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use2 = dataContextState.user) === null || _dataContextState$use2 === void 0 ? void 0 : _dataContextState$use2.email) ? __jsx(Link, {\n    to: `${lang !== 'cz' ? '/' + lang : ''}/user`,\n    className: \"uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 51\n    }\n  }, translate.account[lang]) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    className: \"uk-visible@m\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 164\n    }\n  }, translate.login[lang]), __jsx(\"a\", {\n    nohref: \"\",\n    href: \"/\",\n    className: \"basket_count\",\n    \"uk-toggle\": \"target: #offcanvas-flip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, basketCount))))))));\n};\n\n_s(Header, \"QF90VStscw5oWFGoLilYIYY8HGQ=\", false, function () {\n  return [useRouter];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js"],"names":["useState","useEffect","useContext","Link","withRouter","sanityClient","translate","DataStateContext","localize","Canvas","useRouter","Header","router","lang","currency","locale","query","dataContextState","menu","setMenu","basketCount","setBasketCount","hamburger","setHamburger","fetch","then","data","handleHamburger","document","body","style","overflow","changeLanguage","e","url","preventDefault","localStorage","clear","push","asPath","indexOf","products","map","item","index","slug","current","title","undefined","user","email","account","login"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate'\nimport { DataStateContext } from '../context/dataStateContext'\nimport localize from '../data/localize'\nimport Canvas from './Canvas'\nimport { useRouter } from 'next/router'\n\nconst Header = () => {\n\n  const router = useRouter()\n  const {lang, currency} = localize(router.locale)\n\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n\n  const { dataContextState } = useContext(DataStateContext)\n  const [menu, setMenu] = useState([])\n  const [basketCount, setBasketCount] = useState(0)\n  const [hamburger, setHamburger] = useState(false)\n\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data))\n  }, [])\n\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount)\n  }, [dataContextState.basketCount])\n\n  const handleHamburger = () => {\n    if(hamburger){\n      document.body.style.overflow = 'scroll'\n    }else{\n      document.body.style.overflow = 'hidden'\n    }\n\n    setHamburger(!hamburger)\n  }\n\n  const changeLanguage = (e, url) => {\n    e.preventDefault()\n    localStorage.clear()\n    router.push(url)\n  }\n\n  return(\n    <>\n      <Canvas currency={currency}/>\n      <header>\n        <div className=\"uk-container uk-container-expand uk-height-1-1\">\n          <div className=\"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\">\n            <a href={`/${lang === 'cz' ? '' : lang}`} className=\"logo-wrap uk-width-auto\">\n              <img src=\"/assets/logo.svg\" width=\"200\" height=\"100%\" alt=\"Pellwood\" />\n            </a>\n            <div className=\"uk-text-right uk-width-expand uk-hidden@m\">\n              <button className={`hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`} onClick={() => handleHamburger()} type=\"button\">\n                <span className=\"hamburger-box\">\n                  <span className=\"hamburger-inner\"></span>\n                </span>\n              </button>\n            </div>\n            <div className={`top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`}>\n              <nav>\n                <ul>\n                  <li className={router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : ''}><Link href={`/produkty`}><a>{translate.products[lang]}</a></Link></li>\n                  {(menu || []).map((item, index) => <li key={index} className={router.asPath.indexOf(item?.slug.current) >= 0 ? 'active-menu-top' : ''}>\n                    <Link href={`/kategorie/${item.slug.current}`}><a>{item.title}</a></Link>\n                  </li>)}\n                </ul>\n              </nav>\n              <div className=\"lang-nav uk-hidden@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined}><a href=\"/\">cs</a></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined}><a href=\"/en\">en</a></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area uk-hidden@m\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link to={`${lang !== 'cz' ? '/' + lang : ''}/user`}>{translate.account[lang]}</Link> : <a href=\"#modal-login\" uk-toggle=\"\">Přihlašení</a>}\n                </div>\n              </div>\n            </div>\n            <div className=\"uk-flex function-button-wrap uk-width-auto\">\n              <div className=\"lang-nav uk-visible@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined}><a href=\"/\" onClick={e => changeLanguage(e, '/')}>cs</a></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined}><a href=\"/en\" onClick={e => changeLanguage(e, '/en')}>en</a></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link to={`${lang !== 'cz' ? '/' + lang : ''}/user`} className=\"uk-visible@m\">{translate.account[lang]}</Link> : <a href=\"#modal-login\" className=\"uk-visible@m\" uk-toggle=\"\">{translate.login[lang]}</a>}\n                  <a nohref=\"\" href=\"/\" className=\"basket_count\" uk-toggle=\"target: #offcanvas-flip\">{basketCount}</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n    </>\n  )\n}\n\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}