{"ast":null,"code":"var _jsxFileName = \"/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate';\nimport { DataStateContext } from '../context/dataStateContext';\nimport localize from '../data/localize';\nimport Canvas from './Canvas';\nimport { useRouter } from 'next/router';\n\nconst Header = () => {\n  var _dataContextState$use, _dataContextState$use2;\n\n  const router = useRouter();\n  const {\n    lang,\n    currency\n  } = localize(router.locale);\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n  const {\n    dataContextState\n  } = useContext(DataStateContext);\n  const {\n    0: menu,\n    1: setMenu\n  } = useState([]);\n  const {\n    0: basketCount,\n    1: setBasketCount\n  } = useState(0);\n  const {\n    0: hamburger,\n    1: setHamburger\n  } = useState(false);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, []);\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data));\n  }, [router.locale]);\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount);\n  }, [dataContextState.basketCount]);\n\n  const handleHamburger = () => {\n    if (hamburger) {\n      document.body.style.overflow = 'scroll';\n    } else {\n      document.body.style.overflow = 'hidden';\n    }\n\n    setHamburger(!hamburger);\n  };\n\n  const changeLanguage = (e, url) => {\n    localStorage.clear();\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Canvas, {\n    currency: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), __jsx(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-container uk-container-expand uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"logo-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: \"/assets/logo.svg\",\n    width: \"200\",\n    height: \"100%\",\n    alt: \"Pellwood\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 54\n    }\n  }))), __jsx(\"div\", {\n    className: \"uk-text-right uk-width-expand uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: `hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`,\n    onClick: () => handleHamburger(),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"hamburger-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: `top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, __jsx(Link, {\n    href: \"/produkty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 100\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 123\n    }\n  }, translate.products[lang]))), (menu || []).map((item, index) => __jsx(\"li\", {\n    key: index,\n    className: router.asPath.indexOf(item === null || item === void 0 ? void 0 : item.slug.current) >= 0 ? 'active-menu-top' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 54\n    }\n  }, __jsx(Link, {\n    href: `/kategorie/${item.slug.current}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 68\n    }\n  }, item.title)))))), __jsx(\"div\", {\n    className: \"lang-nav uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 79\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 106\n    }\n  }, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"en\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 79\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 106\n    }\n  }, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area uk-hidden@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use = dataContextState.user) === null || _dataContextState$use === void 0 ? void 0 : _dataContextState$use.email) ? __jsx(Link, {\n    href: \"/user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 51\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 70\n    }\n  }, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 112\n    }\n  }, \"P\\u0159ihla\\u0161en\\xED\")))), __jsx(\"div\", {\n    className: \"uk-flex function-button-wrap uk-width-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"lang-nav uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, __jsx(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    className: lang === 'cz' ? \"menu_active\" : undefined,\n    onClick: e => changeLanguage(e, '/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    locale: \"cs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 117\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 144\n    }\n  }, \"cs\"))), __jsx(\"li\", {\n    className: lang === 'en' ? \"menu_active\" : undefined,\n    onClick: e => changeLanguage(e, '/en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/en\",\n    locale: \"en\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 119\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 148\n    }\n  }, \"en\")))))), __jsx(\"div\", {\n    className: \"user-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, ((_dataContextState$use2 = dataContextState.user) === null || _dataContextState$use2 === void 0 ? void 0 : _dataContextState$use2.email) ? __jsx(Link, {\n    href: \"/user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 51\n    }\n  }, __jsx(\"a\", {\n    className: \"uk-visible@m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 70\n    }\n  }, translate.account[lang])) : __jsx(\"a\", {\n    href: \"#modal-login\",\n    className: \"uk-visible@m\",\n    \"uk-toggle\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 137\n    }\n  }, translate.login[lang]), __jsx(\"a\", {\n    nohref: \"\",\n    href: \"/\",\n    className: \"basket_count\",\n    \"uk-toggle\": \"target: #offcanvas-flip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, basketCount))))))));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/work/pellwood/client/layout/Header.js"],"names":["useState","useEffect","useContext","Link","sanityClient","translate","DataStateContext","localize","Canvas","useRouter","Header","router","lang","currency","locale","query","dataContextState","menu","setMenu","basketCount","setBasketCount","hamburger","setHamburger","fetch","then","data","handleHamburger","document","body","style","overflow","changeLanguage","e","url","localStorage","clear","asPath","indexOf","products","map","item","index","slug","current","title","undefined","user","email","account","login"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link'\nimport sanityClient from \"../lib/sanity.js\";\nimport translate from '../data/staticTranslate'\nimport { DataStateContext } from '../context/dataStateContext'\nimport localize from '../data/localize'\nimport Canvas from './Canvas'\nimport { useRouter } from 'next/router'\n\nconst Header = () => {\n\n  const router = useRouter()\n  const {lang, currency} = localize(router.locale)\n\n  const query = `*[_type == \"archive\" && !(_id == '3cc07543-ce81-4ad2-ace0-8bf754217065')] {\n    \"title\": ${lang}.title,\n    \"slug\": ${lang}.slug,\n    \"sort\": ${lang}.sort\n  } | order(sort asc)`;\n\n  const { dataContextState } = useContext(DataStateContext)\n  const [menu, setMenu] = useState([])\n  const [basketCount, setBasketCount] = useState(0)\n  const [hamburger, setHamburger] = useState(false)\n\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data))\n  }, [])\n\n  useEffect(() => {\n    sanityClient.fetch(query).then(data => setMenu(data))\n  }, [router.locale])\n\n  useEffect(() => {\n    setBasketCount(dataContextState.basketCount)\n  }, [dataContextState.basketCount])\n\n  const handleHamburger = () => {\n    if(hamburger){\n      document.body.style.overflow = 'scroll'\n    }else{\n      document.body.style.overflow = 'hidden'\n    }\n\n    setHamburger(!hamburger)\n  }\n\n  const changeLanguage = (e, url) => {\n    localStorage.clear()\n  }\n\n  return(\n    <>\n      <Canvas currency={currency}/>\n      <header>\n        <div className=\"uk-container uk-container-expand uk-height-1-1\">\n          <div className=\"uk-flex uk-flex-between uk-flex-middle uk-height-1-1\">\n            <Link href=\"/\">\n              <a className=\"logo-wrap uk-width-auto\"><img src=\"/assets/logo.svg\" width=\"200\" height=\"100%\" alt=\"Pellwood\" /></a>\n            </Link>\n            <div className=\"uk-text-right uk-width-expand uk-hidden@m\">\n              <button className={`hamburger hamburger--spin ${hamburger ? 'is-active' : ''}`} onClick={() => handleHamburger()} type=\"button\">\n                <span className=\"hamburger-box\">\n                  <span className=\"hamburger-inner\"></span>\n                </span>\n              </button>\n            </div>\n            <div className={`top-nav uk-width-expand ${hamburger ? 'menu-active' : ''}`}>\n              <nav>\n                <ul>\n                  <li className={router.asPath.indexOf('/produkty') >= 0 ? 'active-menu-top' : ''}><Link href=\"/produkty\"><a>{translate.products[lang]}</a></Link></li>\n                  {(menu || []).map((item, index) => <li key={index} className={router.asPath.indexOf(item?.slug.current) >= 0 ? 'active-menu-top' : ''}>\n                    <Link href={`/kategorie/${item.slug.current}`}><a>{item.title}</a></Link>\n                  </li>)}\n                </ul>\n              </nav>\n              <div className=\"lang-nav uk-hidden@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined}><Link href=\"/\" locale=\"cs\"><a>cs</a></Link></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined}><Link href=\"/\" locale=\"en\"><a>en</a></Link></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area uk-hidden@m\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link href=\"/user\"><a>{translate.account[lang]}</a></Link> : <a href=\"#modal-login\" uk-toggle=\"\">Přihlašení</a>}\n                </div>\n              </div>\n            </div>\n            <div className=\"uk-flex function-button-wrap uk-width-auto\">\n              <div className=\"lang-nav uk-visible@m\">\n                <nav>\n                  <ul>\n                    <li className={lang === 'cz' ? \"menu_active\" : undefined} onClick={e => changeLanguage(e, '/')}><Link href=\"/\" locale=\"cs\"><a>cs</a></Link></li>\n                    <li className={lang === 'en' ? \"menu_active\" : undefined} onClick={e => changeLanguage(e, '/en')}><Link href=\"/en\" locale=\"en\"><a>en</a></Link></li>\n                  </ul>\n                </nav>\n              </div>\n              <div className=\"user-area\">\n                <div className=\"login\">\n                  {dataContextState.user?.email ? <Link href=\"/user\"><a className=\"uk-visible@m\">{translate.account[lang]}</a></Link> : <a href=\"#modal-login\" className=\"uk-visible@m\" uk-toggle=\"\">{translate.login[lang]}</a>}\n                  <a nohref=\"\" href=\"/\" className=\"basket_count\" uk-toggle=\"target: #offcanvas-flip\">{basketCount}</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n    </>\n  )\n}\n\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}