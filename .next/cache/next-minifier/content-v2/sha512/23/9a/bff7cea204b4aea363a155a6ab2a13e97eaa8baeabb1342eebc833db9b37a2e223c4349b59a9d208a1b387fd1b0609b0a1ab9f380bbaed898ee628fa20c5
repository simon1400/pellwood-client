{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{DDIX:function(e,t,a){\"use strict\";a.r(t);var n=a(\"o0o1\"),r=a.n(n),c=a(\"HaE+\"),o=a(\"rePB\"),u=a(\"q1tI\"),l=a.n(u),i=a(\"cuY2\"),s=a.n(i),d=a(\"jTVC\"),m=a(\"3GgQ\"),p=a(\"nOHt\"),b=a(\"17YL\"),f=l.a.createElement;function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=function(e){var t,a,n,r,c,l,i,s=e.data,v=e.setData,y=e.error,g=e.onBlur,O=e.setError,j=Object(p.useRouter)(),k=Object(b.a)(j.locale).lang,N=Object(u.useState)({email:\"\",phone:\"\",name:\"\",surname:\"\",country:\"\",city:\"\",address:\"\",code:\"\",anotherAddressCheck:!1,companyDataCheck:!1}),_=N[0],x=N[1],w=function(e,t){var a=s;O(h(h({},y),{},Object(o.a)({},e,!1))),a[e]=t,v(h({},a))};return Object(u.useEffect)((function(){x(s)}),[s]),f(\"div\",null,f(\"div\",{className:\"form_column\"},f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(t=_.email)||void 0===t?void 0:t.length)&&\"hasValue\",\" \").concat(y.email&&\"invalid\"),type:\"email\",onBlur:function(){return g(\"email\")},value:_.email,onChange:function(e){return w(\"email\",e.target.value)},tabIndex:\"1\"}),f(\"label\",null,d.a.formemail[k])),f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(a=_.phone)||void 0===a?void 0:a.length)&&\"hasValue\",\" \").concat(y.phone&&\"invalid\"),type:\"text\",value:_.phone,onChange:function(e){return w(\"phone\",e.target.value)},tabIndex:\"2\"}),f(\"label\",null,d.a.formphone[k]))),f(\"div\",{className:\"form_column\"},f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(n=_.name)||void 0===n?void 0:n.length)&&\"hasValue\",\" \").concat(y.name&&\"invalid\"),type:\"text\",value:_.name,onChange:function(e){return w(\"name\",e.target.value)},tabIndex:\"3\"}),f(\"label\",null,d.a.formname[k])),f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(r=_.surname)||void 0===r?void 0:r.length)&&\"hasValue\",\" \").concat(y.surname&&\"invalid\"),type:\"text\",value:_.surname,onChange:function(e){return w(\"surname\",e.target.value)},tabIndex:\"4\"}),f(\"label\",null,d.a.formsurname[k]))),f(\"div\",{className:\"form_column\"},f(\"div\",{className:\"select_item\"},f(\"div\",{\"uk-form-custom\":\"target: > * > span:first-child\"},f(\"select\",{value:_.country,onChange:function(e){return w(\"country\",e.target.value)}},m.a[k].map((function(e,t){return f(\"option\",{key:t,value:e.name},e.value)}))),f(\"button\",{className:\"uk-button uk-button-default\",type:\"button\",tabIndex:\"5\"},f(\"span\",null),f(\"span\",null,f(\"svg\",{\"aria-hidden\":\"true\",focusable:\"false\",\"data-prefix\":\"fal\",\"data-icon\":\"chevron-down\",role:\"img\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 448 512\"},f(\"path\",{fill:\"currentColor\",d:\"M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z\"})))))),f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(c=_.city)||void 0===c?void 0:c.length)&&\"hasValue\",\" \").concat(y.city&&\"invalid\"),type:\"text\",value:_.city,onChange:function(e){return w(\"city\",e.target.value)},tabIndex:\"6\"}),f(\"label\",null,d.a.formcity[k]))),f(\"div\",{className:\"form_column\"},f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(l=_.address)||void 0===l?void 0:l.length)&&\"hasValue\",\" \").concat(y.address&&\"invalid\"),type:\"text\",value:_.address,onChange:function(e){return w(\"address\",e.target.value)},tabIndex:\"7\"}),f(\"label\",null,d.a.formstreet[k])),f(\"div\",{className:\"input_item\"},f(\"input\",{className:\"\".concat((null===(i=_.code)||void 0===i?void 0:i.length)&&\"hasValue\",\" \").concat(y.code&&\"invalid\"),type:\"text\",value:_.code,onChange:function(e){return w(\"code\",e.target.value)},tabIndex:\"8\"}),f(\"label\",null,d.a.formzip[k]))))},g=l.a.createElement;function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j=function(e){var t,a,n,r=e.data,c=e.setData,l=Object(p.useRouter)(),i=Object(b.a)(l.locale).lang,s=Object(u.useState)({email:\"\",phone:\"\",name:\"\",surname:\"\",country:\"\",city:\"\",address:\"\",code:\"\",anotherAddressCheck:!1,companyDataCheck:!1}),m=s[0],f=s[1],v=function(e,t){var a=r;a[e]=t,c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a))};return Object(u.useEffect)((function(){f(r)}),[r]),g(\"div\",{className:\"form_container\"},g(\"div\",{className:\"form_column\"},g(\"div\",{className:\"uk-margin input_item\"},g(\"input\",{className:(null===(t=m.companyName)||void 0===t?void 0:t.length)?\"hasValue\":\"\",type:\"text\",value:m.companyName,onChange:function(e){return v(\"companyName\",e.target.value)}}),g(\"label\",null,\"Obchodn\\xed \",d.a.formname[i])),g(\"div\",{className:\"uk-margin input_item\"},g(\"input\",{className:(null===(a=m.ico)||void 0===a?void 0:a.length)?\"hasValue\":\"\",type:\"text\",value:m.ico,onChange:function(e){return v(\"ico\",e.target.value)}}),g(\"label\",null,\"I\\u010cO\")),g(\"div\",{className:\"uk-margin input_item\"},g(\"input\",{className:(null===(n=m.dic)||void 0===n?void 0:n.length)?\"hasValue\":\"\",type:\"text\",value:m.dic,onChange:function(e){return v(\"dic\",e.target.value)}}),g(\"label\",null,\"DI\\u010c\"))),g(\"div\",{className:\"form_column\"}))},k=a(\"238U\"),N=a(\"f0af\"),_=a(\"8MC4\"),x=a(\"R/Ed\"),w=l.a.createElement;function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(){var e=Object(p.useRouter)(),t=Object(b.a)(e.local),a=t.lang,n=t.currency,o=Object(u.useContext)(k.b),l=o.dataContextState,i=o.dataContextDispatch,m=Object(u.useState)(l.user)[0],f=Object(u.useState)([]),v=f[0],h=f[1],g=Object(u.useState)({email:m.email,phone:m.phone,name:m.name,surname:m.surname,country:m.country,city:m.city,address:m.address,code:m.code,anotherAddressCheck:!1,companyDataCheck:!1}),O=Object(u.useState)({email:!1,phone:!1,name:!1,surname:!1,city:!1,address:!1,code:!1}),D=O[0],P=O[1],E=Object(u.useState)(C({},m.anotherAdress)),S=Object(u.useState)(C({},m.companyData));Object(u.useEffect)((function(){N.a.get(\"/order/\".concat(g[0].email)).then((function(e){h(e.data.data)}))}),[]);var I=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g[0].address.length){e.next=5;break}return P(C(C({},D),{},{address:!0})),e.abrupt(\"return\");case 5:if(g[0].city.length){e.next=10;break}return P(C(C({},D),{},{city:!0})),e.abrupt(\"return\");case 10:if(g[0].surname.length){e.next=15;break}return P(C(C({},D),{},{surname:!0})),e.abrupt(\"return\");case 15:if(g[0].name.length){e.next=20;break}return P(C(C({},D),{},{name:!0})),e.abrupt(\"return\");case 20:if(g[0].phone.length){e.next=25;break}return P(C(C({},D),{},{phone:!0})),e.abrupt(\"return\");case 25:if(g[0].code.length){e.next=28;break}return P(C(C({},D),{},{code:!0})),e.abrupt(\"return\");case 28:if(!V(\"email\")){e.next=30;break}return e.abrupt(\"return\");case 30:return a=C(C({id:m._id},g[0]),{},{anotherAdress:E[0],companyData:S[0]}),e.next=33,N.a.put(\"/user\",{data:a,type:\"update\"}).then((function(e){i({state:e.data.data,type:\"user\"})})).catch((function(e){console.log(e)}));case 33:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){return!!Object(x.a)(e,g[0],D,P)};return w(_.a,{className:\"basket user\"},w(\"div\",{className:\"tm-basket-content-wrap\"},w(\"div\",{className:\"tm-basket-content\"},w(\"div\",{className:\"tm-basket-head\"},w(\"h1\",null,d.a.yourAccount[a])),w(y,{data:g[0],setData:g[1],error:D,setError:P,onBlur:V}),w(\"div\",{className:\"uk-margin-small checkbox_item\"},w(\"input\",{type:\"checkbox\",id:\"checkbox_firm_data\",onChange:function(){return function(e,t){var a=g[0];a[e]=t,g[1](C({},a))}(\"companyDataCheck\",!g[0].companyDataCheck)},checked:g[0].companyDataCheck}),w(\"label\",{htmlFor:\"checkbox_firm_data\"}),w(\"label\",{htmlFor:\"checkbox_firm_data\"},d.a.checkcompanydata[a])),w(s.a,{duration:500,height:g[0].companyDataCheck?\"auto\":0},w(j,{data:S[0],setData:S[1]})),w(\"hr\",null),w(\"div\",{className:\"form_column\"},w(\"div\",null,w(\"button\",{className:\"tm-button tm-bare-button\",onClick:function(){return i({state:null,type:\"user\"}),i({state:{},type:\"user\"}),void e.push(\"/\")}},d.a.logOut[a])),w(\"div\",{className:\"uk-text-right\"},w(\"button\",{className:\"tm-button tm-black-button\",onClick:function(e){return I()}},d.a.save[a]))))),w(\"div\",{className:\"basket-right-panel\"},w(\"div\",{className:\"basket-right-content\"},w(\"div\",{className:\"last_order_wrap tm-total-end\"},w(\"table\",{className:\"uk-table uk-table-small uk-table-divider\"},w(\"thead\",null,w(\"tr\",null,w(\"th\",{colSpan:\"2\"},d.a.orderHistory[a]))),w(\"tbody\",null,(null===v||void 0===v?void 0:v.length)?v.map((function(e){return w(\"tr\",{key:e._id},w(\"td\",null,d.a.orderNumber[a],\" \",e.idOrder),w(\"td\",{className:\"uk-text-right\"},e.sum,\" \",\" \"+n))})):w(\"tr\",null,w(\"td\",null,d.a.noOrder[a]),w(\"td\",{className:\"uk-text-right\"}))))))))}},dMze:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user\",function(){return a(\"DDIX\")}])}},[[\"dMze\",0,2,4,1,3,5,6]]]);","extractedComments":[]}